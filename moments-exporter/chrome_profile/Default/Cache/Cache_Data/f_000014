(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/modules~advanced/menusetting/menusetting~advanced/menusetting4Web1~album/edit/edit~city/service_edit~modules"],{"./src/pages/modules/cardticket/member_info_flag.js":function(z,T){var u=[1<<0,1<<12,1<<1,1<<2,1<<3,0,1<<5,1<<6,1<<7,1<<8,1<<9,1<<10,1<<11];function k(A,x){for(var o=0;o<A.length;o++){if(A[o]===x)return o}return-1}z.exports={sys_info:["\u624B\u673A\u53F7","\u59D3\u540D","\u6027\u522B","\u6240\u5728\u5730\u533A","\u751F\u65E5","\u8EAB\u4EFD\u8BC1\u53F7","\u90AE\u7BB1","\u8BE6\u7EC6\u5730\u5740","\u5B66\u5386","\u804C\u4E1A","\u884C\u4E1A","\u6536\u5165","\u7231\u597D"],info_flag:u,flag2info:function A(x){var o=[];for(var d=0;d<this.info_flag.length;d++){var m=this.info_flag[d];if(m&x){o.push(this.sys_info[d])}}return o},info2flag:function A(x){var o=0;for(var d=0;d<x.length;d++){var m=k(this.sys_info,x[d]);if(m>=0){o=o|this.info_flag[m]}}return o}}},"./src/pages/modules/cardticket/parse_data.js":function(z,T,u){function k(a){"@babel/helpers - typeof";return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(a)}var A=u("./src/pages/modules/cardticket/member_info_flag.js");var x=u("./src/pages/modules/utils/str_util.js");var o={"DISCOUNT":"2","MEMBER_CARD":"10","GROUPON":"1","GIFT":"3","CASH":"4","GENERAL_COUPON":"0","SCENIC_TICKET":"21","MOVIE_TICKET":"22"};var d={"CODE_TYPE_TEXT":0,"CODE_TYPE_BARCODE":1,"CODE_TYPE_QRCODE":2};var m={"CARD_STATUS_INIT":0,"CARD_STATUS_NOT_VERIFY":1,"CARD_STATUS_VERIFY_FAIL":2,"CARD_STATUS_VERIFY_OK":3,"CARD_STATUS_DELETE":4,"CARD_STATUS_SYS_DELETE":5,"CARD_STATUS_DISPATCH":6,"CARD_STATUS_SYS_OFF_SHELF":7,"CARD_STATUS_EXPIRED":8};var v={"DATE_TYPE_FIX_TIME_RANGE":1,"DATE_TYPE_FIX_TERM":2,"DATE_TYPE_PERMANENT":100};var S={"is_intercomm":"GET_CUSTOM_CODE_MODE_REALTIME"};function M(a){var e=o[a.card_type]||a.card_type;e=e+"";switch(e){case"2":a=a.discount;break;case"1":a=a.groupon;break;case"3":a=a.gift;break;case"4":a=a.cash;break;case"0":a=a.general_coupon;break;case"10":a=a.member_card;break;case"21":a=a.scenic_ticket;break;case"22":a=a.movie_ticket;break;default:a=a.general_coupon||a.coupon;break}if(!a){return null}a.type=e;return a}function l(a,e){if(typeof a!=="number"){a=praseFloat(a);if(isNaN(a)){return 0}}e||(e=2);return parseFloat(a.toFixed(e))}function f(a){var e=/^https?:\/\/mp.weixin.qq.com\/s/,n=/^http:\/\/mp.weixin.qq.com\/bizmall\/cardshelf/,j=/^http:\/\/mp.weixin.qq.com\/bizmall\/mallshelf/;if(e.test(a)){return 1}else if(n.test(a)){return 2}else if(j.test(a)){return 3}return 4}function b(a){if(!a)return"";return x.html(a+"",false)}function I(a){var e=a.url||"",n=a.url_type;if(n==4){return e.replace("http://","")}return b(e)}function $(n){var e={},n=M(n);if(!n){return null}N(e,n);N(e,n.base_info);e.background_pic_url=n.background_pic_url;var j=n.base_info.date_info||{};e.time_type=v[j.type]||j.type;if(e.time_type==1){e.begin_time=j.begin_timestamp;e.end_time=j.end_timestamp}e.from_day=j.fixed_begin_term||0;e.fixed_term=j.fixed_term||30;e.quantity=n.base_info.sku.quantity;e.shop_id_list=n.base_info.shop_id_list;e.location_id_list=n.base_info.location_id_list;var F=d[e.code_type];e.code_type=typeof F!=="undefined"?F:e.code_type;if(typeof e.code_type==="undefined"){e.code_type=1}e.least_cost=n.least_cost&&n.least_cost/100;e.reduce_cost=n.reduce_cost&&n.reduce_cost/100;e.least_cost=="0"&&(e.least_cost="");e.discount=e.discount&&(100-e.discount)/10;if(e.type==1){e.detail=e.deal_detail}else{e.detail=e.default_detail}if(!/^http/.test(e.logo_url)){e.logo_url=""}if(!e.shop_type){e.shop_type=e.location_id_list&&e.location_id_list.length?2:3}if(e.auto_update_new_location){e.shop_type=1}if(e.func_flag){e.isnew=!!(e.func_flag&16)}else{e.isnew=false}if(e.func_flag){e.ispay=e.func_flag&1<<6}else{e.ispay=false}if(e.func_flag){e.show_in_nearby=false}if(e.ispay){e.can_share=true}if(e.ispay){e.detail=e.detail?e.detail.replace(/\n微信价：.*?元$/mg,""):""}e.price=l(n.base_info.sku.price/100);e.original_price=l(n.base_info.sku.original_price/100);if(e.create_source==1){e.isnew=true}if(e.time_type==1&&e.end_time<new Date/1e3){e.is_expire=true}e.is_intercomm=e.func_flag&1<<14;if(typeof n.base_info.task_info!=="undefined"){e.is_from_intercomm=true;e.task_info=n.base_info.task_info}if(e.is_from_intercomm){e.isnew=true}e.status=m[e.status]||e.status;if(e.discount){e.supply_discount=true}if(e.type==10){var D=[];if(e.promotion_url_name){var C={name:e.promotion_url_name,tips:e.promotion_url_sub_title,url:e.promotion_url};C.url_type=f(C.url);C.url=I(C);D=[C]}if(n.custom_cell1){n.custom_cell1.url_type=f(n.custom_cell1.url);n.custom_cell1.url=I(n.custom_cell1);D.push(n.custom_cell1)}if(n.custom_cell2){n.custom_cell2.url_type=f(n.custom_cell2.url);n.custom_cell2.url=I(n.custom_cell2);D.push(n.custom_cell2)}e.config_url=D;var P=n.required_info||{info_flag:0},L=n.optional_info||{info_flag:0};e.require_keywords=A.flag2info(P.info_flag);e.option_keywords=A.flag2info(L.info_flag);e.require_self_keywords=P.field_list;e.option_self_keywords=L.field_list;e.must_activate=!e.auto_activate;if(e.supply_discount){e.prerogative=e.prerogative.replace(/^用卡可享受.*?折优惠\n/,"")}e.quantity="--";e.can_modify=(n.required_info?n.required_info.can_modify:false)||(n.optional_info?n.optional_info.can_modify:false);e.supply_balance=n.supply_balance}else{var D=[];if(e.custom_url_name){var C={name:e.custom_url_name,tips:e.custom_url_sub_title,url:e.custom_url};C.url_type=f(C.url);C.url=I(C);D=[C]}e.config_url=D}var R=n.base_info;if(e.type==10){var O=n.modify_msg_operation||{_notexist:true}}else{var O=R.consume_msg_operation||{_notexist:true}}e.msg_operation=O.url_cell||O.card_cell||{_notexist:true};if(!e.msg_operation._notexist){e.msg_operation._type=e.msg_operation.card_id?5:f(e.msg_operation.url);if(e.msg_operation.url){e.msg_operation.url=b(e.msg_operation.url)}}e.msg_operation.endtime=e.msg_operation.end_time;e.bonus_rule=n.bonus_rule||{};e.bonus_rule.init_bonus=e.bonus_rule.init_increase_bonus;e.bonus_rule.cost_money_unit=e.bonus_rule.cost_money_unit&&e.bonus_rule.cost_money_unit/100;e.bonus_rule.reduce_money=e.bonus_rule.reduce_money&&e.bonus_rule.reduce_money/100;e.bonus_rule.least_money_to_use_bonus=e.bonus_rule.least_money_to_use_bonus&&e.bonus_rule.least_money_to_use_bonus/100;if(R.sub_merchant_info){e.sub_merchant_id=R.sub_merchant_info.merchant_id}var h=n.advanced_info;e.use_hours=[];if(h){e.is_sns_card=h.gen_type==1;e.orig_time_limit=h.time_limit||[];e.text_image_list=h.text_image_list||[];e.time_limit=[];var W={};if(h.time_limit){for(var B=0;B<h.time_limit.length;B++){var s=h.time_limit[B];if(W[s.type]){continue}W[s.type]=true;e.time_limit.push(s)}}if(e.create_source!=1){if(h.time_limit&&h.time_limit.length){if(h.time_limit[0].end_hour){e.use_hours.push(h.time_limit[0]);if(h.time_limit.length>1){if(h.time_limit[0].type==h.time_limit[1].type){e.use_hours.push(h.time_limit[1])}}}}}e.consume_share_self_num=h.consume_share_self_num;if(e.consume_share_self_num>0){e.consume_is_share=true;e.consume_share_type=1}else if(h.consume_share_card_list&&h.consume_share_card_list.length){e.consume_is_share=true;e.consume_share_type=2;e.consume_share_card_id=h.consume_share_card_list[0].card_id}else{e.consume_is_share=false}e.business_service=h.business_service;var i=h.abstract;if(i){e.abstract=i.abstract;e.cover_logo=i.icon_url_list?i.icon_url_list[0]:""}}e.is_quit_money=e.func_flag&1<<22;e.can_edit_quantity=!e.is_quit_money&&e.type!=10&&!e.is_from_intercomm&&((e.status==3||e.status==5||e.status==6)&&e.is_sns_card&&!e.is_expire||!e.is_sns_card);if(e.is_sns_card){e.isnew=true}if(!e.isnew){e.quantity="--"}if(e.type==3&&e.is_sns_card){e.gift_title=e.title;var _=h.use_condition;if(_){if(_.least_cost){e.title=x.sprintf("\u6EE1%s\u9001%s",_.least_cost/100,e.gift_title)}else if(_.object_use_for){e.title=x.sprintf("\u4E70%s\u9001%s",_.object_use_for,e.gift_title)}else{e.title=e.gift_title+(e.gift_num?e.gift_num:"")+(e.gift_unit?e.gift_unit:"")}}else{e.title=e.gift_title+(e.gift_num?e.gift_num:"")+(e.gift_unit?e.gift_unit:"")}}e.pay_info=R.pay_info&&R.pay_info.swipe_card||{};var t=e.func_flag&1<<16;if(!t){var r=e.func_flag&1<<24;if(e.pay_info.is_swipe_card){e.dispose_method=4;e.code_type=1e4}else if(!r){e.dispose_method=3}else{e.dispose_method=2;e.code_type=1e4}}else{e.dispose_method=1}var p=e.pay_info;p.auditing_info_list||(p.auditing_info_list=[]);if(p.is_swipe_card){var g=p.auditing_info_list;if(g.length){var y=g[g.length-1];if(y.mid_list.length==0){p.swipe_card_status=1}else if(y.ret==1){p.swipe_card_status=p.is_active?0:3}else{p.swipe_card_status=2}if(y.trans_buff){var E=x.html(y.trans_buff,false);try{E=JSON.parse(E)}catch(w){E=""}y.trans_buff=E;p.last_audit_item=y}}else if(e.quantity==0){p.swipe_card_status=4}else{p.swipe_card_status=0}}if(p.is_swipe_card&&(p.swipe_card_status==1||p.swipe_card_status==3)){e.can_edit_quantity=false}if(h&&h.consume_cell_info){e.need_verify_code=h.consume_cell_info.need_verify_code;e.need_remark=h.consume_cell_info.need_remark}e._can_global_edit=!e.is_from_intercomm&&(!e.is_sns_card||e.is_sns_card&&!e.is_expire&&(e.status==3||e.status==5||e.status==6)||e.is_sns_card&&(e.status==1||e.status==2));var _=h&&h.use_condition;if(_){e.use_condition_least_cost=_.least_cost/100||"";e.accept_category=_.accept_category;e.reject_category=_.reject_category;e.can_use_with_other_discount=_.can_use_with_other_discount;e.can_use_with_membercard=_.can_use_with_membercard;e.object_use_for=_.object_use_for;e.has_condition=_.least_cost||_.object_use_for||_.accept_category||_.reject_category||!_.can_use_with_other_discount;if(e.type==3){if(e.object_use_for){e.use_condition_least_cost_type=2}else{e.use_condition_least_cost_type=1}}}else{}if(e.is_sns_card&&e.type==3){e.has_condition=true}return e}function N(a,e){for(var n in e){if(e.hasOwnProperty(n)&&k(e[n])!=="object"){a[n]=e[n]}}return a}function X(a){var e={},n=0,j=[];for(var F=0;F<a.length;F++){var D=$(a[F]);if(!D){continue}e[D.id]=D;j.push(D)}return{card_cache:e,card_list:j}}z.exports={parse_cardticket:$,parse_cardlist:X,url_type:f}},"./src/pages/modules/media2/appmsg/appmsg_publish_card.js":function(z,T,u){var k;function A(s,i){var t="undefined"!=typeof Symbol&&s[Symbol.iterator]||s["@@iterator"];if(!t){if(Array.isArray(s)||(t=x(s))||i&&s&&"number"==typeof s.length){t&&(s=t);var r=0,p=function _(){};return{s:p,n:function _(){return r>=s.length?{done:true}:{done:false,value:s[r++]}},e:function _(w){throw w},f:p}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var g,y=true,E=false;return{s:function _(){t=t.call(s)},n:function _(){var w=t.next();return y=w.done,w},e:function _(w){E=true,g=w},f:function _(){try{y||null==t.return||t.return()}finally{if(E)throw g}}}}function x(s,i){if(s){if("string"==typeof s)return o(s,i);var t={}.toString.call(s).slice(8,-1);return"Object"===t&&s.constructor&&(t=s.constructor.name),"Map"===t||"Set"===t?Array.from(s):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(s,i):void 0}}function o(s,i){(null==i||i>s.length)&&(i=s.length);for(var t=0,r=Array(i);t<i;t++)r[t]=s[t];return r}function d(s){"@babel/helpers - typeof";return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},d(s)}var m=u("./node_modules/vue/dist/vue.min.js");var v=u("../../packages/mmbizweb-web2-common/modules/utils/cgi.js");var S=u("./src/pages/modules/utils/time.js");var M=u("./src/pages/modules/utils/object.js");var l=u("./src/pages/modules/utils/str_util.js");var f=u("./src/pages/modules/utils/parse.js");var b=u("./src/pages/modules/utils/report.js"),I=b.idkey;var $=u("../../packages/mmbizweb-web2-common/utils/live_utils.js");var N=u("../../packages/mmbizweb-web2-common/utils/comm_report.js"),X=N.getReportDirectives;var a=u("./src/3rd/utils/comm_report.js");var e=u("../../packages/mmbizweb-web2-common/utils/common.js"),n=e.getMultiMsgBanWhitelistTypes;var j=u("../../packages/mmbizweb-web2-common/common/wx/hash.js");var F=u("./src/pages/modules/media2/appmsg/appmsg_publish_card.tpl");u("./src/pages/modules/media_dialog/split_msg_dialog/split_msg_dialog.js");var D=2;var C=3;u("./src/pages/modules/media2/common/appmsg.less");u("./src/pages/modules/media/common/media.less");u("./src/pages/modules/media2/appmsg/appmsg_publish_card.less");var P=((k=window)===null||k===void 0||(k=k.wx)===null||k===void 0||(k=k.cgiData)===null||k===void 0?void 0:k.service_type)||0;var L=window.wx.commonData.acl.base_acl.can_use_new_publish===1;var R=u("./src/pages/modules/utils/string.js");var O=u("./node_modules/@tencent/we-emoji/dist/index.umd.min.js");var h=/[\u2600-\u27BF]|[\u2B00-\u2BFF]|[\u3291-\u32B0]|[\uD83C\uD83D][\uDC00-\uDFFF]/;var W=8;var B=n();m.component("mp-appmsg2",{template:F,props:{type:{type:Number,default:10,validator:function s(i){return i===10||i===11||i===77||i===1}},extclass:{type:String,default:""},source:{type:Object,default:function s(){return{}}},istimeline:{type:Boolean,default:false},isprofile:{type:Boolean,default:false},isreply:{type:Boolean,default:false},query:{type:String,default:""},visible:{type:Boolean,default:false},highlight:{type:Boolean,default:false},keyword:{type:String,default:""},showType:{type:Number,default:0},selected:{type:Boolean,default:false},isfromselectmsg:{type:Boolean,default:false},canselect:{type:Boolean,default:false},canpreview:{type:Boolean,default:false},canedit:{type:Boolean,default:false},cantransfer:{type:Boolean,default:false},replacescene:{type:Number,default:0},issupportsharesul:{type:Boolean,default:false},useupdatetime:{type:Boolean,default:true},usecreatetime:{type:Boolean,default:true},usedelete:{type:Boolean,default:true},showMoreAction:{type:Boolean,default:true},voiceVerifyState:{type:Number,default:3},unselectTips:{type:String,default:""}},data:function s(){var i={isDeleting:false,operator:{show:false},iswechat:this.isprofile||this.istimeline,id:this.isprofile||this.istimeline?"weui-desktop-timeline":"",token:f.getQuery("token",location.href),lang:f.getQuery("lang",location.href),isMul:false,list:[],leftNum:0,completed:true,notCompletedType:"",createTime:"",updateTime:"",isSupportShareMul:null,isTransfered:false,popDeleteShow:false,editWording:this.source.reply_type?"\u4FEE\u6539":"\u7F16\u8F91",delPopShow:false,transPopShow:false,appid:"",isCopyRight:true,isXinan:true,isAuditReject:true,isFromOldMsg:f.getQuery("isFromOldMsg",location.href),isFreePublishAppmsg:true,isExpand:false,canUseNewPublish:L,editReportWording:"\u7F16\u8F91\u8349\u7A3F",serviceType:P,showSplitMsgDialog:false,splitMsgType:[]};return i},computed:{hasLiveItem:function s(){return this.list.some(function(i){return i.share_page_type===19})},editUrl:function s(){var i="";if(this.source.sent_result){i="/cgi-bin/appmsg?t=media/appmsg_edit&action=edit&type=".concat(this.type,"&appmsgid=").concat(this.source.appmsg_info[0].appmsgid,"&isMul=1&replaceScene=").concat(this.replacescene)}else{i="/cgi-bin/appmsg?t=media/appmsg_edit&action=edit&type=".concat(this.type,"&appmsgid=").concat(this.source.app_id||this.source.id||this.source.msgid,"&isMul=1&replaceScene=").concat(this.replacescene)}if(this.isFromOldMsg){i+="&isFromOldMsg=".concat(this.isFromOldMsg);localStorage.setItem("previousTitle",this.source.title)}if(this.source.reply_type){localStorage.setItem("previousTitle",this.source.title)}if(this.source.multi_item){localStorage.setItem("previousLength",this.source.multi_item.length)}else{localStorage.setItem("previousLength",1)}return i},hasAlreadyTransfer:function s(){return this.isTransfered||this.source.copied_appmsg_infos&&this.source.copied_appmsg_infos.length},pastTime:function s(){return Math.floor((Math.floor(new Date().valueOf()/1e3)-this.source.publish_time)/60)},isInvalid:function s(){return this.source.isInvalid}},watch:{source:function s(){this.fixData()},keyword:function s(){this.fixData()},visible:function s(){var i=this;if(this.$refs.js_cover_title){var t=this.$refs.js_cover_title&&this.$refs.js_cover_title[0];if(t.scrollHeight>t.clientHeight+5){t.style.marginBottom="5px";this.isExpand=true;this.$nextTick(function(){if(i.$refs.js_expand){i.$refs.js_expand[0].style.left=t.offsetLeft+"px";i.$refs.js_expand[0].style.top="-5px"}})}else{this.isExpand=false}}else{this.isExpand=false}},highlight:function s(){this.fixData()},useupdatetime:function s(){this.fixData()}},mounted:function s(){if(!!this.$listeners){if(this.$listeners.edit){this.operator.edit=true;this.operator.show=true}if(this.$listeners.delete){this.operator.delete=true;this.operator.show=true}}this.fixData()},directives:X({reportType:"mmdata",commonData:{Pid:"\u9996\u9875",EventType:0,Bizuin:parseInt(window.wx&&window.wx.uin,10)},logId:29438}),methods:{emojiFormat:function s(i){if(!/\[[^\[\]]+\]/.test(i)){return i}return i.replace(/\[[^\[\]]+\]/g,function(t){try{var r=O.decode(t);return r}catch(p){return t}})},formatMusicTime:function s(i){var t="";if(i<60){t="00:"+(i<10?"0":"")+i}else{var r=Math.floor(i/60);i-=r*60;t=(r<10?"0":"")+r+":"+(i<10?"0":"")+i}return t},preview:function s(i,t,r){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(!this.canpreview){return}if(p.share_page_type===19&&!p.live_export_id){return}var g=window.open();var y=this;if(i){g.location.href=i;return}this.$emit("preview");v.get({url:"/cgi-bin/appmsg?action=get_temp_url",data:{appmsgid:t,itemidx:r+1},success:function E(_){if(_.base_resp&&_.base_resp.ret===0){if(g&&g.location){g.location.href=_.temp_url}}else{y.$tipsErr("\u751F\u6210\u4E34\u65F6\u94FE\u63A5\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5");g.close()}},error:function E(){y.$tipsErr("\u751F\u6210\u4E34\u65F6\u94FE\u63A5\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5")}})},mouseout:function s(){if(this.delPopShow){this.delPopShow=false}},sendMouseover:function s(){if(this.delPopShow){this.delPopShow=false}},del:function s(){this.$emit("delete",this.appid)},xssFilter:function s(i){var t=this;if(i.isXssEncoded){return}var r=i.title;if(typeof r==="string"){if(t.query!==""){var p=r.replace(/<em>/g,"{{{{{em}}}}}").replace(/<\/em>/g,"{{{{{/em}}}}}");p=p.replace(/<|>/ig,function(g){return{"<":"&#60;",">":"&#62;"}[g]});r=p.replace(/\{\{\{\{\{em\}\}\}\}\}/g,"<em>").replace(/\{\{\{\{\{\/em\}\}\}\}\}/g,"</em>")}else{if(typeof i.isXssEncoded!=="boolean"){r=l.html(r,true);r=r.replace(/<|>/ig,function(g){return{"<":"&#60;",">":"&#62;"}[g]})}}}i.title=r;if(typeof i.digest!=="undefined"){i.digest=l.html(i.digest,false)}i.isXssEncoded=true},fixData:function s(){var i=this;var t=[];var r=false;var p={};if(this.source.multi_item&&this.source.multi_item.length===1){t=[Object.assign({},this.source,this.source.multi_item[0])]}else{t=M.clone(this.source.multi_item||[this.source],true)}for(var g=0;g<t.length;g++){this.xssFilter(t[g])}if(t){for(var y=0;y<t.length;y++){if(t[y].free_publish_status==="102")this.isCopyRight=false;if(t[y].free_publish_status==="104"){if(t[y].need_show_audit_reject_detail===1){this.isAuditReject=false}else{this.isXinan=false}}if(t[y].publish_info&&d(t[y].publish_info)!=="object"){try{var E=JSON.parse(t[y].publish_info.replace(/&quot;/g,'"'));if(E.publish_type===101){this.isFreePublishAppmsg=false}}catch(Q){}}}var _=function Q(){if(w===1&&t[w-1].share_page_type!==7){t[w].notShowSperator=true}if(t[w].share_page_type===5||t[w].share_page_type===7||t[w].share_page_type===8){r=true;t[w].digest=t[w].digest&&R.htmlDecode(t[w].digest.replace(/<\/?(a|span)[^>]*?>/ig,"").replace(/<mp-common-shoptag[\s\S]*?>[\s\S]*?<\/mp-common-shoptag>/ig,"[\u5C0F\u5E97\u5546\u54C1]"))}if(t[w].share_page_type===10){t[w].title=i.emojiFormat(t[w].title).replace(/\n/g,"<br>").replace(/<mp-common-shoptag[\s\S]*?>[\s\S]*?<\/mp-common-shoptag>/ig,"[\u5C0F\u5E97\u5546\u54C1]")}if(t[w].share_page_type===19){var H=t[w];var Y=["biz_live_status","live_cover_cdnurl","live_desc","live_export_id"];try{H.finder_live_info=JSON.parse(H.finder_live_info)}catch(q){}if(H.finder_live_info&&!Y.some(function(q){return H[q]})){var V=A(Y),G;try{for(V.s();!(G=V.n()).done;){var K=G.value;H[K]=H.finder_live_info[K]}}catch(q){V.e(q)}finally{V.f()}}H.title=H.live_desc||"\u76F4\u64AD\u6D88\u606F";H.category=$.getLiveCate(H);i.xssFilter(H)}};for(var w=0;w<t.length;w++){_()}}this.isShareMul=r;this.isSupportShareMul=this.issupportsharesul;this.isMul=t.length>1;this.createTime=this.source.create_time?S.timeFormat(this.source.create_time):"";this.updateTime=this.source.updateTimeStamp?this.source.updateTimeStamp:this.source.update_time;this.updateTime=this.updateTime?S.timeFormat(this.updateTime):"";if(t.length>0){var U=A(t),J;try{for(U.s();!(J=U.n()).done;){var c=J.value;c.completed=true;this.completed=true;if((!c.title||!c.cover)&&c.share_page_type!==7&&c.share_page_type!==19){this.completed=false;c.completed=false}if(h.test(c.title)&&c.share_page_type!==19){this.notCompletedType="title-emoji";this.completed=false;t[0].completed=false}if(c.cover){c.cover=R.nogif(c.cover);c.cover=R.http2https(c.cover)}if(c.share_voiceinfo&&c.share_voiceinfo[0]){p=c.share_voiceinfo[0]}if(c.share_page_type===7&&!c.play_length){if(typeof p.play_length==="undefined"){c.play_length="\u672A\u77E5\u65F6\u957F"}else{c.play_length=this.formatMusicTime(p.play_length)}}if(c.share_page_type===5&&!c.play_length&&c.share_videoinfo&&c.share_videoinfo[0]&&!c.share_videoinfo[0].is_finder_video){if(typeof c.share_videoinfo[0].play_length==="undefined"){c.play_length="\u672A\u77E5\u65F6\u957F"}else{c.play_length=S.formatMediaTime(c.share_videoinfo[0].play_length)}}if(c.share_page_type===8){c.new_pic_process=1;if(c.share_imageinfo){c.num=c.share_imageinfo.length}else{c.num=0}}if(c.share_page_type===10){this.completed=true;c.completed=true}c.title=c.title||"\u672A\u547D\u540D\u6587\u7AE0";c.tpl="t3"}}catch(Q){U.e(Q)}finally{U.f()}if(!this.isprofile){if(this.isMul){t[0].tpl="t2"}else{t[0].tpl="t1"}}else{if(t[0].share_page_type!==0){if(this.isMul){t[0].tpl="t2"}else{t[0].tpl="t1"}}if(t[0].share_page_type===10){t[0].tpl="t1"}}if(this.isprofile){if(t[0]){t[0].notShowSperator=true}if(t[1]){t[1].notShowSperator=false}}if(this.istimeline&&t.length>D){this.leftNum=t.length-D;this.list=t.slice(0,D)}else if(this.isprofile&&t.length>C){this.leftNum=t.length-C;this.list=t.slice(0,C)}else{this.leftNum=0;this.list=t}}this.appid=this.source.app_id||this.source.id||this.source.msgid;this.delPopShow=false},getTempUrl:function s(i,t,r,p){if(i){return}p.preventDefault();var g=window.open();var y=this;v.get({url:"/cgi-bin/appmsg?action=get_temp_url",data:{appmsgid:t,itemidx:r+1},success:function E(_){if(_.base_resp&&_.base_resp.ret===0){if(g&&g.location){g.location.href=_.temp_url}}else{y.$tipsErr("\u751F\u6210\u4E34\u65F6\u94FE\u63A5\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5");g.close()}},error:function E(){y.$tipsErr("\u751F\u6210\u4E34\u65F6\u94FE\u63A5\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5")},complete:function E(){}})},needSplitMsg:function s(i){return this.list&&this.list.find(function(t){return t.share_page_type===i})&&this.isMul},editAppmsg:function s(i,t){var r=this;var p=window.wx.commonData.acl&&window.wx.commonData.acl.material_acl&&!!window.wx.commonData.acl.material_acl.can_app_msg;var g=j.getUrlParam("appmsgid",this.editUrl);var y=new Date().getTime();var E={AppMsgID:Number(g),ItemIdx:null,BizUin:Number(window.wx.commonData.uin),UserData:JSON.stringify([{type:"enterEditor",ts:y}])};a.report(34331,E);if(p){if(B&&B.length>0&&B.some(function(_){return r.needSplitMsg(_)})){this.splitMsgType=B.filter(function(_){return r.needSplitMsg(_)});this.showSplitMsgDialog=true}else{window.openUrl(this.editUrl,{isSend:i===true?1:0,isFreePublish:t===true?1:0},true)}}else{this.$tipsErr("\u8D26\u53F7\u65B0\u5EFA/\u7F16\u8F91\u7D20\u6750\u80FD\u529B\u5DF2\u88AB\u5C01\u7981\uFF0C\u6682\u4E0D\u53EF\u4F7F\u7528\u3002")}this.$emit("edit",i)},onSplitMsgConfirm:function s(){var i=this;v.post({url:"/cgi-bin/operate_appmsg?sub=split&t=ajax-response",data:{appmsgid:this.source.app_id,split_type:this.splitMsgType.join(",")},success:function t(r){if(r.base_resp.ret*1===0){i.$tipsSuc("\u5DF2\u62C6\u5206\u4E3A\u8349\u7A3F\uFF0C\u8BF7\u524D\u5F80\u8349\u7A3F\u7BB1\u7F16\u8F91\u548C\u53D1\u8868");var p=window.location.href;if(p.indexOf("begin=")>-1){p=p.replace(/begin=\d+/,"begin=0")}window.location.href=p}else{i.$tipsErr("\u62C6\u5206\u8349\u7A3F\u5931\u8D25")}},error:function t(){i.$tipsErr("\u62C6\u5206\u8349\u7A3F\u5931\u8D25")}})},transferToDraft:function s(){var i=this;localStorage.setItem("previousTitle",i.source.title);localStorage.setItem("previousLength",i.source.multi_item.length);I(129180,49,1);if(this.hasAlreadyTransfer){return}v.post({url:"/cgi-bin/operate_appmsg?sub=copy&t=ajax-response",data:{AppMsgId:i.source.app_id},success:function t(r){if(r.base_resp.ret*1===0){i.$tipsSuc("\u5DF2\u8F6C\u5B58\u4E3A\u8349\u7A3F\uFF0C\u8BF7\u524D\u5F80\u8349\u7A3F\u7BB1\u7F16\u8F91\u548C\u53D1\u8868");i.isTransfered=true;i.$emit("deleted",i.source,r);window.location.href="/cgi-bin/appmsg?t=media/appmsg_edit&action=edit&type=77&appmsgid=".concat(r.appMsgId,"&replaceScene=1&token=").concat(i.token,"&lang=").concat(i.lang)}else{if(r.ret==="200002"){i.$tipsErr("\u5DF2\u8F6C\u5B58\u4E3A\u8349\u7A3F\uFF0C\u8BF7\u524D\u5F80\u8349\u7A3F\u7BB1\u7F16\u8F91\u548C\u53D1\u8868")}else{i.$tipsErr("\u8F6C\u5B58\u8349\u7A3F\u5931\u8D25")}}},error:function t(){i.$tipsErr("\u8F6C\u5B58\u8349\u7A3F\u5931\u8D25")}})},onDelete:function s(){var i=this;i.isDeleting=true;v.post({url:"/cgi-bin/operate_appmsg?sub=del&t=ajax-response",data:{AppMsgId:i.source.app_id},success:function t(r){if(r.base_resp.ret*1===0){i.$tipsSuc("\u5220\u9664\u6210\u529F");i.popDeleteShow=false;i.$emit("deleted",i.source,r)}else{i.$tipsErr("\u5220\u9664\u5931\u8D25")}},error:function t(){i.$tipsErr("\u5220\u9664\u5931\u8D25")},complete:function t(){i.isDeleting=false}})},onClick:function s(){this.$emit("click",this.source)},onOperate:function s(i){this.$emit(i,this.source)},showAntispamDialog:function s(i){var t=this;if(this.source.multi_item){this.source.multi_item.some(function(r){try{var p=JSON.parse(R.htmlDecode(r.publish_info)).publish_msgid;if(p){t.$store.dispatch("mp-audit-reject/showAntispamDialog",{antispamType:0,antispamMsgId:p,antispamCopyMsgId:i,antispamModifyData:[]});return true}}catch(g){}return false})}}},filters:{decodeStr:function s(i){if(i){return R.htmlDecode(i)}}}})},"./src/pages/modules/media2/appmsg/appmsg_publish_card.less":function(z,T,u){"use strict";u.r(T)},"./src/pages/modules/media2/appmsg/appmsg_publish_card.tpl":function(z,T){z.exports=`

<div class="publish_card_container">
  <div v-if="isfromselectmsg && (source.multi_item[0].is_rumor_refutation || (source.multi_item[0].rumor_refutation && source.multi_item[0].rumor_refutation.is_rumor_refutation))" class="can-not-selected-bar">
    <mp-icon class="can-not-selected_icon" icon="infoTip" color="rgba(0,0,0,0.3)" :width="16" :height="16"></mp-icon>\u8F9F\u8C23\u6587\u7AE0\u6682\u4E0D\u652F\u6301\u5408\u5E76\u53D1\u8868
  </div>
  <div v-else-if="isfromselectmsg && showType === 10" class="can-not-selected-bar">
    <mp-icon class="can-not-selected_icon" icon="infoTip" color="rgba(0,0,0,0.3)" :width="16" :height="16"></mp-icon>\u6587\u5B57\u6D88\u606F\u4E0D\u652F\u6301\u5408\u5E76\u53D1\u8868
  </div>
  <div v-else-if="isfromselectmsg && unselectTips" class="can-not-selected-bar">
    <mp-icon class="can-not-selected_icon" icon="infoTip" color="rgba(0,0,0,0.3)" :width="16" :height="16"></mp-icon>{{unselectTips}}
  </div>
  <div v-else-if="!canselect && isfromselectmsg && showType !== 10" class="can-not-selected-bar">\u6700\u591A\u53EA\u80FD\u63D2\u51658\u7BC7\u5185\u5BB9</div>
  <div :id="id" :class="['weui-desktop-card', 'weui-desktop-publish',
  extclass, selected ? 'selected' : '', iswechat ? 'weui-desktop-timeline' : '',
  canselect ? 'canselected' : 'can_not_selected']"
    :data-appid="source.app_id" @mouseleave="mouseout">
    <div :class="['weui-desktop-card_fakeinner', { 'can-not-selected-border': !canselect && isfromselectmsg}]">
      <div class="weui-desktop-card__mask"></div>
      <div @onmouseout="\u03BFnm\u03BFuse\u03BFut" class="weui-desktop-card__inner" id="appmsg_publish_record" href="javascript:void(0);">
        <div v-if="(!isCopyRight || !isXinan || !isAuditReject) && type === 77" class="publish_failed">
          <div v-if="isFreePublishAppmsg" class="publish_failed">
            <i class="icon-svg-helper-tips_warn"></i>
            <span class="failed_content"> \u53D1\u8868\u5931\u8D25\u5907\u4EFD </span>
              <div class="publish_time">
                \u672C\u8349\u7A3F\u4E8E{{updateTime}}\u53D1\u8868\u5931\u8D25
                <a href="javascript:;" v-if="!isAuditReject" @click="showAntispamDialog(source.app_id || source.id || item.appmsgid)">\u67E5\u770B\u8BE6\u60C5</a>
                <mp-tooltip v-else trigger="hover">
                  <a href="javascript:;" slot="target">\u67E5\u770B\u8BE6\u60C5</a>
                  <template slot="content">
                    <template v-if="!isCopyRight">\u539F\u521B\u6821\u9A8C\u4E0D\u901A\u8FC7\uFF0C\u8BF7\u4FEE\u6539\u540E\u91CD\u8BD5</template>
                    <template v-else-if="!isXinan">\u5185\u5BB9\u56E0\u8FDD\u89C4\u53D1\u9001\u5931\u8D25\uFF0C\u8BF7\u4FEE\u6539\u540E\u91CD\u8BD5</template>
                  </template>
                </mp-tooltip>
              </div>
          </div>
          <div v-else class="publish_failed">
            <i class="icon-svg-helper-tips_warn"></i>
            <span class="failed_content"> \u53D1\u8868\u5931\u8D25\u5907\u4EFD </span>
              <div class="publish_time">
                \u672C\u8349\u7A3F\u4E8E{{updateTime}}\u53D1\u8868\u5931\u8D25
                <a href="javascript:;" v-if="!isAuditReject" @click="showAntispamDialog(source.app_id || source.id || item.appmsgid)">\u67E5\u770B\u8BE6\u60C5</a>
                <mp-tooltip v-else trigger="hover">
                  <a href="javascript:;" slot="target">\u67E5\u770B\u8BE6\u60C5</a>
                  <template slot="content">
                    <template v-if="!isCopyRight">\u539F\u521B\u6821\u9A8C\u4E0D\u901A\u8FC7\uFF0C\u8BF7\u4FEE\u6539\u540E\u91CD\u8BD5</template>
                    <template v-else-if="!isXinan">\u5185\u5BB9\u56E0\u8FDD\u89C4\u53D1\u9001\u5931\u8D25\uFF0C\u8BF7\u4FEE\u6539\u540E\u91CD\u8BD5</template>
                  </template>
                </mp-tooltip>
              </div>
          </div>
        </div>


        <div class="weui-desktop-card__bd">
          <template v-for="(item, index) in list">
            
            
            <template v-if="item.tpl == 't1'">
              
              
              <div :class="{
                'weui-desktop-publish__cover-item':true,
                'weui-desktop-publish__cover-item_appsmg':item.share_page_type == 0,
                'weui-desktop-publish__cover-item_video':item.share_page_type == 5,
                'weui-desktop-publish__cover-item_pic':item.share_page_type == 8,
                'appmsg_card_publish_failed': (!isCopyRight || !isXinan),
                'appmsg_publish_signal': true
              }">
                
                <template v-if="item.share_page_type == 10">
                  <span class="weui-desktop-publish__cover__title_text">
                    <template v-if="type !== 1">
                      <a class="weui-desktop-publish__cover__title" href="javascript:void(0);" @click="preview(item.content_url || item.link, source.app_id || source.id || item.appmsgid, item.seq || 0)" >
                        <b class="weui-desktop-key-tag weui-desktop-key-tag_pay" v-if="item.is_pay_subscribe == 1">\u4ED8\u8D39</b>
                        <span v-html="item.title"></span>
                        <span v-if="isfromselectmsg && item.is_deleted" class="weui-desktop-publish-deltips">\u5DF2\u5220\u9664</span>
                      </a>
                    </template>
                    <template v-else>
                      <div ref="js_cover_title" class="weui-desktop-publish__cover__title" href="javascript:void(0);" @click="preview(item.content_url || item.link, source.app_id || source.id || item.appmsgid, item.seq || 0)" >
                        <b class="weui-desktop-key-tag weui-desktop-key-tag_pay" v-if="item.is_pay_subscribe == 1">\u4ED8\u8D39</b>
                        <span class="weui-desktop_wording" v-html="item.title"></span>
                        <span v-if="isfromselectmsg && item.is_deleted" class="weui-desktop-publish-deltips">\u5DF2\u5220\u9664</span>
                      </div>
                      <div v-if="isExpand" ref="js_expand" class="weui-desktop_unfold">\u5C55\u5F00</div>
                    </template>
                  </span>
                </template>

                
                <template v-else-if="item.share_page_type == 19">
                  <div class="live_dialog_wrapper">
                    <div class="live_content_container">
                      <template v-if="item.timesend_live_flag == 1 || item.live_export_id">
                        <img class="blur_background" :src="item.live_cover_cdnurl">
                        <div class="content_container">
                          <div class="content_background">
                            <template v-if="item.biz_live_status == 1">
                              <div class="on_live_icon">
                                <img src="https://res.wx.qq.com/op_res/zWRZkxXDN3HImHbyOUXeWXkK7QFUNAe7_oMBiDePuJ-eF1EwpPMlfQQKBIxmYK59NJTIyJT0XpcvgrBrMiDg2Q">
                              </div>
                            </template>
                            <template v-else>
                              <div class="off_live_icon">
                                <img class="live_icon" src="https://res.wx.qq.com/op_res/cjoXOG9NmhFAFVV-D1RaUl1PMnAkpRautk3t8SPr215W0rgJLZhtVzIBi5Aep0RhLD6-pR6qIG6SgnAomYBLpQ">
                                <div class="live_tips">\u76F4\u64AD\u5DF2\u7ED3\u675F</div>
                              </div>
                            </template>
                            <p v-if="!canpreview" class="on_live_title">{{ item.live_desc | decodeStr }}</p>
                            <a v-else class="on_live_title on_live_title_link" @click="preview(item.content_url || item.link, source.app_id || source.id || item.appmsgid, item.seq || 0, item)">{{ item.live_desc | decodeStr }}</a>
                            <p class="on_live_category">{{ (item.category || item.digest) | decodeStr }}</p>
                          </div>
                          <div class="on_live_cover" :style="'background-image:url(\\'' + item.live_cover_cdnurl + '\\');'"></div>
                        </div>
                      </template>
                      <template v-else>
                        <div class="pretime_send_bg"><span class="pretime_send_tips" v-html="item.live_desc || '\u76F4\u64AD'"></span></div>
                      </template>
                    </div>
                  </div>
                </template>

                
                <template v-else-if="item.share_page_type !== 7">
                  <div class="weui-desktop-publish__cover__thumb-wrp">
                    
                    <template v-if="item.share_page_type === 8">
                      <div v-if="item?.multi_picture_cover * 1 === 1 && item?.share_imageinfo?.length >= 3" class="three_splice">
                        <i class="splice_cover_item" :style="{ 'background-image': \`url('\${ item.share_imageinfo[0]?.cover_info?.cdn_url || item.share_imageinfo[0]?.cdn_url }')\` }"></i>
                        <i class="splice_cover_item" :style="{ 'background-image': \`url('\${ item.share_imageinfo[1]?.cover_info?.cdn_url || item.share_imageinfo[1]?.cdn_url }')\` }"></i>
                        <i class="splice_cover_item" :style="{ 'background-image': \`url('\${ item.share_imageinfo[2]?.cover_info?.cdn_url || item.share_imageinfo[2]?.cdn_url }')\` }"></i>
                      </div>
                      <div v-else-if="item?.multi_picture_cover * 1 === 2 && item?.share_imageinfo?.length >= 3" class="service_three_splice">
                        <i class="splice_cover_item" :style="{ 'background-image': \`url('\${ item.share_imageinfo[0]?.cover_info?.cdn_url || item.share_imageinfo[0]?.cdn_url }')\` }"></i>
                        <i class="splice_cover_item" :style="{ 'background-image': \`url('\${ item.share_imageinfo[1]?.cover_info?.cdn_url || item.share_imageinfo[1]?.cdn_url }')\` }"></i>
                        <i class="splice_cover_item" :style="{ 'background-image': \`url('\${ item.share_imageinfo[2]?.cover_info?.cdn_url || item.share_imageinfo[2]?.cdn_url }')\` }"></i>
                      </div>
                      <div v-else-if="item?.multi_picture_cover * 1 === 2 && item?.share_imageinfo?.length === 2" class="service_two_splice">
                        <i class="splice_cover_item" :style="{ 'background-image': \`url('\${ item.share_imageinfo[0]?.cover_info?.cdn_url || item.share_imageinfo[0]?.cdn_url }')\` }"></i>
                        <i class="splice_cover_item" :style="{ 'background-image': \`url('\${ item.share_imageinfo[1]?.cover_info?.cdn_url || item.share_imageinfo[1]?.cdn_url }')\` }"></i>
                      </div>
                      <i v-else-if="serviceType * 1 === 2" class="weui-desktop-publish__cover__thumb is_235_1_cover__thumb" :style="'background-image:url(\\'' + (item.cdn_235_1_url || item.pic_cdn_url_235_1 || item.cover) + '\\');'"></i>
                      <i v-else class="weui-desktop-publish__cover__thumb" :style="'background-image:url(\\'' + (item.cdn_16_9_url || item.pic_cdn_url_16_9 || item.cover) + '\\');'"></i>
                    </template>
                    
                    <i v-else class="weui-desktop-publish__cover__thumb"
                      :style="'background-image:url(\\'' + (item.share_page_type === 5 ? (item.cdn_16_9_url || item.pic_cdn_url_16_9 || item.cover) : (item.cdn_235_1_url || item.pic_cdn_url_235_1 || item.cover)) + '\\');'"></i>
                      
                    
                    <div class="weui-desktop-publish__video-notice" v-show="item.share_page_type === 5">{{item.play_length}}
                    </div>
                    <template v-if="item.share_page_type === 8">
                      <div class="weui-desktop-publish__img-notice">
                        
                        <div class="weui-desktop-publish__img-notice-content">
                          <i class="weui-desktop-publish__icon-pic"></i>
                          <span class="weui-desktop-publish__pic-num" v-show="item.num>1">{{item.num}}</span>
                        </div>
                      </div>
                    </template>
                  </div>

                  
                  <span v-if="item.title && (item.share_page_type !== 8 || item.new_pic_process)" class="weui-desktop-publish__cover__title__wrp">
                    <template v-if="type !== 1">
                      <a class="weui-desktop-publish__cover__title" href="javascript:void(0);"  @click="preview(item.content_url || item.link, source.app_id || source.id || item.appmsgid, item.seq || 0)" >
                        <b class="weui-desktop-key-tag weui-desktop-key-tag_pay" v-if="item.is_pay_subscribe == 1">\u4ED8\u8D39</b>
                        <span v-html="item.title"></span>
                        <span v-if="isfromselectmsg && item.is_deleted" class="weui-desktop-publish-deltips">\u5DF2\u5220\u9664</span>
                      </a>
                    </template>
                    <template v-else>
                      <a class="weui-desktop-publish__cover__title" href="javascript:void(0);"  @click="preview(item.content_url || item.link, source.app_id || source.id || item.appmsgid, item.seq || 0)" >
                        <b class="weui-desktop-key-tag weui-desktop-key-tag_pay" v-if="item.is_pay_subscribe == 1">\u4ED8\u8D39</b>
                        <span v-html="item.title"></span>
                        <span v-if="isfromselectmsg && item.is_deleted" class="weui-desktop-publish-deltips">\u5DF2\u5220\u9664</span>
                      </a>
                    </template>
                  </span>
                  <p v-if="item.digest" class="weui-desktop-publish__cover__desc" :title="item.digest">{{item.digest}}</p>
                </template>

                
                <template v-else>
                  <div class="card_audio">
                    <mp-msg v-if="voiceVerifyState === 4" icon="info" title="\u97F3\u9891\u56E0\u8FDD\u89C4\u5DF2\u4E0B\u67B6" size="mini" mode="gray" style="margin: 8px 8px 0;"></mp-msg>
                    <div class="card_audio_inner">
                      <div class="weui-desktop-vm_primary card_audio_hd">
                        <div class="card_audio_title" :title="item.title" v-html="item.title" @click="preview(item.content_url || item.link, source.app_id || source.id || item.appmsgid, item.seq || 0)"></div>
                        <p v-if="!iswechat" class="card_audio_length">{{item.play_length}}</p>
                      </div>
                      <div class="weui-desktop-vm_default card_audio_bd">
                        <i class="card_audio_player"></i>
                      </div>
                    </div>
                    
                    <div class="weui-desktop-publish__cover__desc">{{item.digest}}</div>
                  </div>
                </template>

                
              </div>
            </template>

            
            <template v-if="item.tpl == 't2'">
              <div :class="{
                'weui-desktop-publish__cover-item':true,
                'weui-desktop-publish__cover_thumb': item.cover,
                'weui-desktop-publish__cover-item_appsmg':item.share_page_type == 0,
                'weui-desktop-publish__cover-item_video':item.share_page_type == 5,
                'weui-desktop-publish__cover-item_pic':item.share_page_type == 8,
                'appmsg_card_publish_failed': (!isCopyRight || !isXinan),
                'appmsg_publish_mulitem': true
              }">
                
                <template v-if="item.share_page_type == 7">
                  <mp-msg v-if="voiceVerifyState === 4" icon="info" title="\u97F3\u9891\u56E0\u8FDD\u89C4\u5DF2\u4E0B\u67B6" size="mini" mode="gray" style="margin: 8px 8px 0;"></mp-msg>
                  <div class="card_audio_inner">
                    <div class="weui-desktop-vm_primary card_audio_hd">
                      <div class="card_audio_title" :title="item.title" v-html="item.title" @click="preview(item.content_url || item.link, source.app_id || source.id || item.appmsgid, item.seq || 0)"></div>
                      <p v-if="!iswechat" class="card_audio_length">{{item.play_length}}</p>
                    </div>
                    <div class="weui-desktop-vm_default card_audio_bd">
                      <i class="card_audio_player"></i>
                    </div>
                  </div>
                </template>

                <template v-else-if="item.share_page_type == 5">
                  <div class="weui-desktop-publish__cover__thumb-wrp">
                    <i class="weui-desktop-publish__cover__thumb"
                      :style="'background-image:url(\\'' + (item.share_page_type === 5 ? (item.cdn_16_9_url || item.pic_cdn_url_16_9 || item.cover) : item.cover) + '\\');'"></i>
                    
                    
                    <div class="weui-desktop-publish__video-notice" v-show="item.share_page_type === 5">{{item.play_length}}
                    </div>
                    
                    <div class="weui-desktop-publish__img-notice">
                      <span class="weui-desktop-publish__cover__title__wrp">
                        <span class="weui-desktop-publish__cover__title" v-html="item.title" @click="preview(item.content_url || item.link, source.app_id || source.id || item.appmsgid, item.seq || 0)"></span>
                        <span v-if="isfromselectmsg && item.is_deleted" class="weui-desktop-publish-deltips">\u5DF2\u5220\u9664</span>
                      </span>
                    </div>
                  </div>
                </template>

                
                <template v-else-if="item.share_page_type == 8">
                  <div class="weui-desktop-publish__cover__thumb-wrp">
                    <div v-if="item?.multi_picture_cover * 1 === 1 && item?.share_imageinfo?.length >= 3" class="three_splice">
                      <i class="splice_cover_item" :style="{ 'background-image': \`url('\${ item.share_imageinfo[0]?.cover_info?.cdn_url || item.share_imageinfo[0]?.cdn_url }')\` }"></i>
                      <i class="splice_cover_item" :style="{ 'background-image': \`url('\${ item.share_imageinfo[1]?.cover_info?.cdn_url || item.share_imageinfo[1]?.cdn_url }')\` }"></i>
                      <i class="splice_cover_item" :style="{ 'background-image': \`url('\${ item.share_imageinfo[2]?.cover_info?.cdn_url || item.share_imageinfo[2]?.cdn_url }')\` }"></i>
                    </div>
                    <div v-else-if="item?.multi_picture_cover * 1 === 2 && item?.share_imageinfo?.length >= 3" class="service_three_splice">
                      <i class="splice_cover_item" :style="{ 'background-image': \`url('\${ item.share_imageinfo[0]?.cover_info?.cdn_url || item.share_imageinfo[0]?.cdn_url }')\` }"></i>
                      <i class="splice_cover_item" :style="{ 'background-image': \`url('\${ item.share_imageinfo[1]?.cover_info?.cdn_url || item.share_imageinfo[1]?.cdn_url }')\` }"></i>
                      <i class="splice_cover_item" :style="{ 'background-image': \`url('\${ item.share_imageinfo[2]?.cover_info?.cdn_url || item.share_imageinfo[2]?.cdn_url }')\` }"></i>
                    </div>
                    <div v-else-if="item?.multi_picture_cover * 1 === 2 && item?.share_imageinfo?.length === 2" class="service_two_splice">
                      <i class="splice_cover_item" :style="{ 'background-image': \`url('\${ item.share_imageinfo[0]?.cover_info?.cdn_url || item.share_imageinfo[0]?.cdn_url }')\` }"></i>
                      <i class="splice_cover_item" :style="{ 'background-image': \`url('\${ item.share_imageinfo[1]?.cover_info?.cdn_url || item.share_imageinfo[1]?.cdn_url }')\` }"></i>
                    </div>
                    <i v-else class="weui-desktop-publish__cover__thumb" :style="'background-image:url(\\'' + (item.cdn_16_9_url || item.pic_cdn_url_16_9 || item.cover) + '\\');'"></i>
                    
                    <div class="weui-desktop-publish__img-notice">
                      
                      <div v-if="item.new_pic_process" class="weui-desktop-publish__img-preview" v-html="item.title" @click="preview(item.content_url || item.link, source.app_id || source.id || item.appmsgid, item.seq || 0)"></div>
                      <div class="weui-desktop-publish__img-notice-content">
                        <i class="weui-desktop-publish__icon-pic"></i>
                        <span class="weui-desktop-publish__pic-num" v-show="item.num>1">{{item.num}}</span>
                      </div>
                    </div>
                  </div>
                </template>

                
                <template v-else-if="item.share_page_type == 19">
                  <div class="live_dialog_wrapper">
                    <div class="live_content_container">
                      <template v-if="item.timesend_live_flag == 1 || item.live_export_id">
                        <img class="blur_background" :src="item.live_cover_cdnurl">
                        <div class="content_container">
                          <div class="content_background">
                            <template v-if="item.biz_live_status == 1">
                              <div class="on_live_icon">
                                <img src="https://res.wx.qq.com/op_res/zWRZkxXDN3HImHbyOUXeWXkK7QFUNAe7_oMBiDePuJ-eF1EwpPMlfQQKBIxmYK59NJTIyJT0XpcvgrBrMiDg2Q">
                              </div>
                            </template>
                            <template v-else>
                              <div class="off_live_icon">
                                <img class="live_icon" src="https://res.wx.qq.com/op_res/cjoXOG9NmhFAFVV-D1RaUl1PMnAkpRautk3t8SPr215W0rgJLZhtVzIBi5Aep0RhLD6-pR6qIG6SgnAomYBLpQ">
                                <div class="live_tips">\u76F4\u64AD\u5DF2\u7ED3\u675F</div>
                              </div>
                            </template>
                            <p v-if="!canpreview" class="on_live_title">{{ item.live_desc | decodeStr }}</p>
                            <a v-else class="on_live_title on_live_title_link" @click="preview(item.content_url || item.link, source.app_id || source.id || item.appmsgid, item.seq || 0, item)">{{ item.live_desc | decodeStr }}</a>
                            <p class="on_live_category">{{ (item.category || item.digest) | decodeStr }}</p>
                          </div>
                          <div class="on_live_cover" :style="'background-image:url(\\'' + item.live_cover_cdnurl + '\\');'"></div>
                        </div>
                      </template>
                      <template v-else>
                        <div class="pretime_send_bg"><span class="pretime_send_tips" v-html="item.live_desc || '\u76F4\u64AD'"></span></div>
                      </template>
                    </div>
                  </div>
                </template>

                <template v-else>
                  <div class="weui-desktop-publish__img-notice">
                    <span  class="weui-desktop-publish__cover__title__wrp">
                      <template v-if="type !== 1">
                        <a class="weui-desktop-publish__cover__title" href="javascript:void(0);"  @click="preview(item.content_url || item.link, source.app_id || source.id || item.appmsgid, item.seq || 0)">
                          <b class="weui-desktop-key-tag weui-desktop-key-tag_pay" v-if="item.is_pay_subscribe == 1">\u4ED8\u8D39</b>
                          <span v-html="item.title"></span>
                          <span v-if="isfromselectmsg && item.is_deleted" class="weui-desktop-publish-deltips">\u5DF2\u5220\u9664</span>
                        </a>

                      </template>
                      <template v-else>
                        <div class="weui-desktop-publish__cover__title" href="javascript:void(0);"  @click="preview(item.content_url || item.link, source.app_id || source.id || item.appmsgid, item.seq || 0)">
                          <b class="weui-desktop-key-tag weui-desktop-key-tag_pay" v-if="item.is_pay_subscribe == 1">\u4ED8\u8D39</b>
                          <span v-html="item.title"></span>
                          <span v-if="isfromselectmsg && item.is_deleted" class="weui-desktop-publish-deltips">\u5DF2\u5220\u9664</span>
                        </div>
                      </template>
                    </span>
                  </div>
                  <i class="weui-desktop-publish__cover__thumb sbbbb" :style="'background-image:url(\\'' + (item.cdn_235_1_url || item.pic_cdn_url_235_1 || item.cover) + '\\');'"></i>
                </template>

                
                
              </div>
            </template>

            
            <template v-if="item.tpl == 't3'">
              <div class="weui-desktop-publish__item sub_card_media"
              :class="{'appmsg_card_publish_failed': (!isCopyRight || !isXinan), 'audio_container' : item.share_page_type === 7, 'sub_card_second': item.notShowSperator}">
                <template v-if="item.share_page_type !== 7">
                  <div class="weui-desktop-publish__thumb-wrp">
                    <i v-if="item.share_page_type !== 19" class="weui-desktop-publish__thumb" :style="'background-image:url(\\'' + item.cover + '\\');'"></i>
                    <i v-else-if="item.live_cover_cdnurl" class="weui-desktop-publish__thumb" :style="'background-image:url(\\'' + item.live_cover_cdnurl + '\\');'"></i>
                    <i v-else class="weui-desktop-publish__thumb" :style="'background-color:#E3E4E5;'"></i>
                    
                    <div class="weui-desktop-publish__img-notice" v-if="item.share_page_type == 8">
                      <div class="weui-desktop-publish__img-notice-content">
                        <i class="weui-desktop-publish__icon-pic"></i>
                        <span class="weui-desktop-publish__pic-num" v-show="item.num>1">{{item.num}}</span>
                      </div>
                    </div>
                    
                    
                    <div class="weui-desktop-publish__video-notice" v-show="item.share_page_type === 5">{{item.play_length}}
                    </div>
                  </div>
                  <template v-if="type !== 1 || item.item_show_type == 0">
                    <div class="weui-desktop-publish__title__container">
                      <a v-if="!(item.share_page_type == 19 && !item.live_export_id)" class="weui-desktop-publish__title" href="javascript:void(0);"  @click="preview(item.content_url || item.link, source.app_id || source.id || item.appmsgid, item.seq || 0, item)">
                        <b class="weui-desktop-key-tag weui-desktop-key-tag_pay" v-if="item.is_pay_subscribe == 1" >\u4ED8\u8D39</b>
                        <template v-if="item.share_page_type == 19 && item.live_export_id">
                          <b v-if="item.biz_live_status == 2" class="weui-desktop-key-tag weui-desktop-key-tag__offlive">\u76F4\u64AD\u5DF2\u7ED3\u675F</b>
                          <b v-else-if="item.biz_live_status == 1" class="weui-desktop-key-tag__onlive">
                            <img src="https://res.wx.qq.com/op_res/zWRZkxXDN3HImHbyOUXeWdb_9D9qX0dWcKgwuIGFotLQUaQmDm6ZI9bmxl_uSTinRNbfiU_4r6hTaiOs-VX_Wg">
                          </b>
                        </template>
                        <span v-html="item.title"></span>
                        <span v-if="isfromselectmsg && item.is_deleted" class="weui-desktop-publish-deltips">\u5DF2\u5220\u9664</span>
                      </a>
                      <span v-else class="weui-desktop-publish__title">
                        <b class="weui-desktop-key-tag weui-desktop-key-tag_pay" v-if="item.is_pay_subscribe == 1" >\u4ED8\u8D39</b>
                        <span v-html="item.title"></span>
                        <span v-if="isfromselectmsg && item.is_deleted" class="weui-desktop-publish-deltips">\u5DF2\u5220\u9664</span>
                      </span>
                    </div>
                  </template>
                  <template v-else>
                  <div class="weui-desktop-publish__title_container">
                    <div class="weui-desktop-publish__title" href="javascript:void(0);"  @click="preview(item.content_url || item.link, source.app_id || source.id || item.appmsgid, item.seq || 0, item)">
                      <b class="weui-desktop-key-tag weui-desktop-key-tag_pay" v-if="item.is_pay_subscribe == 1" >\u4ED8\u8D39</b>
                      <template v-if="item.share_page_type == 19 && item.live_export_id">
                        <b v-if="item.biz_live_status == 2" class="weui-desktop-key-tag weui-desktop-key-tag__offlive">\u76F4\u64AD\u5DF2\u7ED3\u675F</b>
                        <b v-else-if="item.biz_live_status == 1"  class="weui-desktop-key-tag__onlive">
                          <img src="https://res.wx.qq.com/op_res/zWRZkxXDN3HImHbyOUXeWdb_9D9qX0dWcKgwuIGFotLQUaQmDm6ZI9bmxl_uSTinRNbfiU_4r6hTaiOs-VX_Wg">
                        </b>
                      </template>
                      <span v-html="item.title"></span>
                      <span v-if="isfromselectmsg && item.is_deleted" class="weui-desktop-publish-deltips">\u5DF2\u5220\u9664</span>
                    </div>
                  </div>
                  </template>
                </template>
                <template v-else>
                  <div class="card_audio">
                    <mp-msg v-if="voiceVerifyState === 4" icon="info" title="\u97F3\u9891\u56E0\u8FDD\u89C4\u5DF2\u4E0B\u67B6" size="mini" mode="gray" style="margin: 8px 8px 0;"></mp-msg>
                    <div class="card_audio_inner">
                      <div class="weui-desktop-vm_primary card_audio_hd">
                        <div class="card_audio_title" :title="item.title" v-html="item.title" @click="preview(item.content_url || item.link, source.app_id || source.id || item.appmsgid, item.seq || 0)"></div>
                        <p v-if="!iswechat" class="card_audio_length">{{item.play_length}}</p>
                      </div>
                      <div class="weui-desktop-vm_default card_audio_bd">
                        <i class="card_audio_player"></i>
                      </div>
                    </div>
                  </div>
                </template>
                
                
              </div>
            </template>

          </template>
          <template v-if="iswechat && leftNum">
            <div class="weui-desktop-publish_more">
              <div class="weui-desktop-publish_more_num">
                \u4F59\u4E0B{{leftNum }}\u7BC7
              </div>
              <div class="arrow_down_symbol" >
                <svg width="15" height="8" viewBox="0 0 15 8" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.5 5.146l3.385-3.479.678.696L7.838 6.19a.47.47 0 01-.678 0L3.438 2.363l.677-.696L7.5 5.146z" fill="#000" fill-opacity=".3"/></svg>
              </div>

            </div>
          </template>





          
          <div class="weui-desktop-card__action" :style="{'top':(!isCopyRight || !isXinan) && type === 77 ? '100px' : '15px'}" v-if="type !== 1 && usedelete">
            <div class="weui-desktop-publish__opr weui-desktop-link-group">
              <div v-if="cantransfer && isFromOldMsg">
                <div v-if="!source.reply_type">
                  <mp-popover v-model="transPopShow" class="weui-desktop-link" position="up-right"  trigger="click" v-if="!hasAlreadyTransfer">
                    <mp-tooltip slot="target" content="\u8F6C\u5B58\u4E3A\u8349\u7A3F" :delay="300">
                      <a slot="target" :class="['weui-desktop-icon20', 'weui-desktop-icon-btn', hasAlreadyTransfer ? 'disabled' : '']" class="weui-desktop-icon20 weui-desktop-icon-btn" href="javascript:;">
                      <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path fill="transparent" d="M0 0h24v24H0z"/><path d="M16.5 2.5A1.5 1.5 0 0118 4v6.629h-1.5V4h-11v16h5.877v1.5H5.5A1.5 1.5 0 014 20V4a1.5 1.5 0 011.5-1.5h11zm1.914 9.757l3.536 3.536a1 1 0 010 1.414l-3.536 3.536-1.06-1.062 2.425-2.425-6.579.001v-1.5h6.593l-2.44-2.44 1.061-1.06zM11.377 11v1.5H8V11h3.377zM14 7v1.5H8V7h6z" fill="#4C4D4E"/></g></svg>
                      </a>
                    </mp-tooltip>
                    <p slot="content" class="comfirm_delete_wording">
                      \u8F6C\u5B58\u4E3A\u8349\u7A3F\u540E\uFF0C\u5C06\u8FDB\u5165\u7F16\u8F91\u5668\u7F16\u8F91\u4FEE\u6539\uFF0C\u5386\u53F2\u7D20\u6750\u53EA\u80FD\u8F6C\u5B58\u4E00\u6B21\u3002\u5982\u9700\u518D\u6B21\u4F7F\u7528\u6B64\u7D20\u6750\uFF0C\u8BF7\u524D\u5F80\u9996\u9875\u201C\u9009\u62E9\u5DF2\u6709\u5185\u5BB9\u201D-\u201C\u5386\u53F2\u56FE\u6587\u7D20\u6750\u201D\u3002
                    </p>
                    <template slot="bar">
                      <mp-button type="primary" @click.stop="transferToDraft">\u786E\u5B9A
                      </mp-button>
                      <mp-button type="default" @click.stop="transPopShow=false">\u53D6\u6D88
                      </mp-button>
                    </template>
                  </mp-popover>
                  <mp-tooltip v-else slot="target" class="weui-desktop-link" content="\u5DF2\u8F6C\u5B58\u4E3A\u8349\u7A3F" :delay="300">
                    <a slot="target" :class="['weui-desktop-icon20', 'weui-desktop-icon-btn', hasAlreadyTransfer ? 'disabled' : '']" href="javascript:;">
                    <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path fill="transparent" d="M0 0h24v24H0z"/><path d="M16.5 2.5A1.5 1.5 0 0118 4v6.629h-1.5V4h-11v16h5.877v1.5H5.5A1.5 1.5 0 014 20V4a1.5 1.5 0 011.5-1.5h11zm1.914 9.757l3.536 3.536a1 1 0 010 1.414l-3.536 3.536-1.06-1.062 2.425-2.425-6.579.001v-1.5h6.593l-2.44-2.44 1.061-1.06zM11.377 11v1.5H8V11h3.377zM14 7v1.5H8V7h6z" fill="#4C4D4E"/></g></svg>
                      
                      
                    </a>
                  </mp-tooltip>
                </div>
                <mp-tooltip v-else class="weui-desktop-link" content="\u4FEE\u6539" position="down-center" :delay="300">
                  <a slot="target" class="weui-desktop-icon20 weui-desktop-icon-btn" @click="editAppmsg" href="javascript:;">
                    <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path fill="transparent" d="M0 0h24v24H0z"/><path d="M16.5 2.5A1.5 1.5 0 0118 4v6.629h-1.5V4h-11v16h5.877v1.5H5.5A1.5 1.5 0 014 20V4a1.5 1.5 0 011.5-1.5h11zm1.914 9.757l3.536 3.536a1 1 0 010 1.414l-3.536 3.536-1.06-1.062 2.425-2.425-6.579.001v-1.5h6.593l-2.44-2.44 1.061-1.06zM11.377 11v1.5H8V11h3.377zM14 7v1.5H8V7h6z" fill="#4C4D4E"/></g></svg>
                  </a>
                </mp-tooltip>
              </div>

              <mp-popover v-if="!isreply" v-model="delPopShow" class="weui-desktop-link" trigger="click">
                <mp-tooltip slot="target" content="\u5220\u9664" position="down-center" :delay="300">
                  <a slot="target" class="weui-desktop-icon20 weui-desktop-icon-btn" href="javascript:;">
                    <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path fill="transparent" d="M0 0h24v24H0z"/><path d="M20.5 4.5a1.5 1.5 0 011.493 1.356L22 6h-3.095L18 20.5a1.5 1.5 0 01-1.5 1.5h-9A1.5 1.5 0 016 20.5L5.093 6H2a1.5 1.5 0 011.5-1.5h17zm-3 1.5h-11l1 14.5h9l1-14.5zm-7 2l.5 10H9.5L9 8h1.5zM15 8l-.5 10H13l.5-10H15zm-1.5-6a1.5 1.5 0 011.493 1.356L15 3.5H9A1.5 1.5 0 0110.5 2h3z" fill="#4C4D4E"/></g></svg>
                    
                  </a>
                </mp-tooltip>
                <p slot="content" class="comfirm_delete_wording">
                  \u786E\u5B9A\u5220\u9664\uFF1F\u5220\u9664\u8BE5\u5185\u5BB9\u4E0D\u4F1A\u5220\u9664\u5DF2\u53D1\u8868\u7684\u5185\u5BB9
                </p>
                <template slot="bar">
                  <mp-button type="primary" @click.stop="del">\u5220\u9664
                  </mp-button>
                  <mp-button type="default" @click.stop="delPopShow=false">\u53D6\u6D88
                  </mp-button>
                </template>
              </mp-popover>

              <mp-tooltip  v-if="canedit && appid && !isreply"
              class="weui-desktop-link"
              :content="editWording"
              position="down-center"
              :delay="300"
              v-mpreport:click="{ Button: editReportWording }"
              >
                <a slot="target" class="weui-desktop-icon20 weui-desktop-icon-btn" @click="editAppmsg" href="javascript:;">
                  <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path fill="transparent" d="M0 0h24v24H0z"/><path d="M13 4v1.5H4.5v14h14V11H20v8.5a1.5 1.5 0 01-1.5 1.5h-14A1.5 1.5 0 013 19.5v-14A1.5 1.5 0 014.5 4H13zm5.034.875l1.414 1.414-8.327 8.327-2.16 1.156c-.453.242-.645.098-.453-.322l.043-.087 1.156-2.16 8.327-8.328zm2.436-1.319l.297.297c.309.308.22.898-.175 1.292l-.587.587-1.414-1.414.587-.587c.405-.405.98-.487 1.292-.175z" fill="#4C4D4E"/></g></svg>
                  
                </a>
              </mp-tooltip>

              <template v-if="!completed">
                <template v-if="type !== 10">
                  <mp-tooltip trigger="hover" class="appmsg_publish_disable">
                    <span class="publish_disable_button" slot="target">
                      <a
                        class="weui-desktop-icon20 weui-desktop-link weui-desktop-link_disable weui-desktop-link_send-multi weui-desktop-icon-btn" href="javascript:;">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.667 3.45c0-.69-.56-1.25-1.25-1.25H5.25C4.56 2.2 4 2.76 4 3.45v13.333c0 .69.56 1.25 1.25 1.25h4.898v-1.25H5.25V3.45h9.167v3.68h1.25V3.45zm-5.52 7.083v-1.25H7.334v1.25h2.815zM7.334 5.95h5V7.2h-5V5.95zm10.405 6.107L14.79 9.11a.833.833 0 00-1.178 0l-2.946 2.946.883.884 2.033-2.033v7.958h1.25V10.92l2.021 2.02.884-.883z" fill="#4C4D4E"/></svg>
                        
                        <span class="space-left">\u53D1\u8868</span>
                      </a>
                    </span>
                    <div slot="content">\u5185\u5BB9\u4E0D\u5B8C\u6574\uFF0C\u65E0\u6CD5\u53D1\u8868</div>
                  </mp-tooltip>
                </template>
                
              </template>

              <template v-else>
                <template v-if="type !== 10">
                  <span class="publish_enable_button">
                    <a class="weui-desktop-icon20 weui-desktop-link weui-desktop-link_send-multi weui-desktop-icon-btn"
                      href="javascript:;" @click="editAppmsg(true)">
                      <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.667 3.45c0-.69-.56-1.25-1.25-1.25H5.25C4.56 2.2 4 2.76 4 3.45v13.333c0 .69.56 1.25 1.25 1.25h4.898v-1.25H5.25V3.45h9.167v3.68h1.25V3.45zm-5.52 7.083v-1.25H7.334v1.25h2.815zM7.334 5.95h5V7.2h-5V5.95zm10.405 6.107L14.79 9.11a.833.833 0 00-1.178 0l-2.946 2.946.883.884 2.033-2.033v7.958h1.25V10.92l2.021 2.02.884-.883z" fill="#4C4D4E"/></svg>
                      <span class="space-left">
                        \u53D1\u8868
                      </span>
                    </a>
                    <div  v-if="!canUseNewPublish" class="preview_publish_panel">
                      <a @click="editAppmsg(true)" href="javascript:;" class="group_sending" :class="hasLiveItem ? 'only_group_sending' : ''">
                        \u7FA4\u53D1
                      </a>
                      <a v-if="!hasLiveItem" @click="editAppmsg(false, true)" href="javascript:;" class="free_post">
                        \u53D1\u5E03
                      </a>
                    </div>
                  </span>

                </template>
              </template>

            </div>
          </div>
        </div>

        
        <div class="weui-desktop-card__ft" v-if="!iswechat">
          <div class="weui-desktop-publish__opr weui-desktop-link-group" style="display: none;" v-if="canedit">
            <mp-tooltip class="weui-desktop-link" content="\u7F16\u8F91" position="down-center" :delay="300">
              <a slot="target" class="weui-desktop-icon-btn" @click="editAppmsg" href="javascript:;">
                <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path fill="transparent" d="M0 0h24v24H0z"/><path d="M13 4v1.5H4.5v14h14V11H20v8.5a1.5 1.5 0 01-1.5 1.5h-14A1.5 1.5 0 013 19.5v-14A1.5 1.5 0 014.5 4H13zm5.034.875l1.414 1.414-8.327 8.327-2.16 1.156c-.453.242-.645.098-.453-.322l.043-.087 1.156-2.16 8.327-8.328zm2.436-1.319l.297.297c.309.308.22.898-.175 1.292l-.587.587-1.414-1.414.587-.587c.405-.405.98-.487 1.292-.175z" fill="#4C4D4E"/></g></svg>
              </a>
            </mp-tooltip>
            <mp-popover v-model="delPopShow" class="weui-desktop-link" trigger="click">
              <mp-tooltip slot="target" content="\u5220\u9664" position="down-center" :delay="300">
                <a slot="target" class="weui-desktop-icon-btn" href="javascript:;">
                  <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path fill="transparent" d="M0 0h24v24H0z"/><path d="M20.5 4.5a1.5 1.5 0 011.493 1.356L22 6h-3.095L18 20.5a1.5 1.5 0 01-1.5 1.5h-9A1.5 1.5 0 016 20.5L5.093 6H2a1.5 1.5 0 011.5-1.5h17zm-3 1.5h-11l1 14.5h9l1-14.5zm-7 2l.5 10H9.5L9 8h1.5zM15 8l-.5 10H13l.5-10H15zm-1.5-6a1.5 1.5 0 011.493 1.356L15 3.5H9A1.5 1.5 0 0110.5 2h3z" fill="#4C4D4E"/></g></svg>
                </a>
              </mp-tooltip>
              <p slot="content">
                \u5220\u9664\u540E\u4E0D\u4F1A\u5F71\u54CD\u5DF2\u7FA4\u53D1\u7684\u56FE\u6587\u6D88\u606F\uFF0C\u786E\u5B9A\u5220\u9664\u8BE5\u7D20\u6750\uFF1F
              </p>
              <template slot="bar">
                <mp-button type="primary" @click.stop="del">\u5220\u9664
                </mp-button>
                <mp-button type="default" @click.stop="delPopShow=false">\u53D6\u6D88
                </mp-button>
              </template>
            </mp-popover>
          </div>
          <div class="weui-desktop-publish__tips weui-desktop-tips weui-desktop-tips_icon-after">
            <template v-if="useupdatetime && updateTime">\u66F4\u65B0\u4E8E {{updateTime}} </template>
            <template v-else>{{createTime}}</template>
            <mp-popover v-if="!completed" trigger="hover" style="display: none;">
              <i slot="target" class="icon-svg-helper-tips_warn"></i>
              <div slot="content">
                \u56FE\u6587\u5185\u5BB9\u4E0D\u5B8C\u6574<br />
                <template v-if="notCompletedType == 'title-emoji'">\u6807\u9898\u4E2D\u542B\u6709\u7279\u6B8A\u5B57\u7B26\uFF0C\u8BF7\u91CD\u65B0\u7F16\u8F91</template>
                <template v-else>\u8BF7\u8865\u5145\u5C01\u9762\u56FE\u3001\u6807\u9898\u6216\u8005\u6B63\u6587</template>
              </div>
            </mp-popover>
            
          </div>
        </div>

        <div v-if="isInvalid" class="menu-appmsg-invalid">
          <div class="menu-appmsg-invalid-text">\u56FE\u6587\u5DF2\u5220\u9664</div>
        </div>
        

      </div>
    </div>
  </div>
  <div v-if="isreply" class="op_btn_wrap">
    <div class="op_btn_container">
      <mp-tooltip v-if="canedit" class="weui-desktop-link tooltip_cus" trigger="hover" content="\u4FEE\u6539" position="down-center" :delay="300">
        <button @click="editAppmsg" slot="target"
          class="op_btn_item weui-desktop-icon-btn weui-desktop-opr-btn weui-desktop-opr-btn_primary">
          <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path fill="transparent" d="M0 0h24v24H0z"/><path d="M13 4v1.5H4.5v14h14V11H20v8.5a1.5 1.5 0 01-1.5 1.5h-14A1.5 1.5 0 013 19.5v-14A1.5 1.5 0 014.5 4H13zm5.034.875l1.414 1.414-8.327 8.327-2.16 1.156c-.453.242-.645.098-.453-.322l.043-.087 1.156-2.16 8.327-8.328zm2.436-1.319l.297.297c.309.308.22.898-.175 1.292l-.587.587-1.414-1.414.587-.587c.405-.405.98-.487 1.292-.175z" fill="#4C4D4E"/></g></svg>
        </button>
      </mp-tooltip>
      <mp-tooltip class="weui-desktop-link tooltip_cus" trigger="hover" content="\u5220\u9664" position="down-center" :delay="300">
        <button @click="del" slot="target"
          class="op_btn_item weui-desktop-icon-btn weui-desktop-opr-btn weui-desktop-opr-btn_primary">
          <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path fill="transparent" d="M0 0h24v24H0z"/><path d="M20.5 4.5a1.5 1.5 0 011.493 1.356L22 6h-3.095L18 20.5a1.5 1.5 0 01-1.5 1.5h-9A1.5 1.5 0 016 20.5L5.093 6H2a1.5 1.5 0 011.5-1.5h17zm-3 1.5h-11l1 14.5h9l1-14.5zm-7 2l.5 10H9.5L9 8h1.5zM15 8l-.5 10H13l.5-10H15zm-1.5-6a1.5 1.5 0 011.493 1.356L15 3.5H9A1.5 1.5 0 0110.5 2h3z" fill="#4C4D4E"/></g></svg>
        </button>
      </mp-tooltip>
    </div>
  </div>
  <mp-split-msg-dialog
    v-if="showSplitMsgDialog"
    v-model="showSplitMsgDialog"
    :msg-type="splitMsgType"
    @split-confirm="onSplitMsgConfirm"
  ></mp-split-msg-dialog>
</div>



`},"./src/pages/modules/media2/common/appmsg.less":function(z,T,u){"use strict";u.r(T)},"./src/pages/modules/media_dialog/split_msg_dialog/split_msg_dialog.js":function(z,T,u){function k(l){return d(l)||o(l)||x(l)||A()}function A(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function x(l,f){if(l){if("string"==typeof l)return m(l,f);var b={}.toString.call(l).slice(8,-1);return"Object"===b&&l.constructor&&(b=l.constructor.name),"Map"===b||"Set"===b?Array.from(l):"Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?m(l,f):void 0}}function o(l){if("undefined"!=typeof Symbol&&null!=l[Symbol.iterator]||null!=l["@@iterator"])return Array.from(l)}function d(l){if(Array.isArray(l))return m(l)}function m(l,f){(null==f||f>l.length)&&(f=l.length);for(var b=0,I=Array(f);b<f;b++)I[b]=l[b];return I}var v=u("./node_modules/vue/dist/vue.min.js");var S=u("./src/pages/modules/media_dialog/split_msg_dialog/split_msg_dialog.tpl");var M=u("../../packages/mmbizweb-web2-common/editor/common/monitor.js");u("./src/pages/modules/media_dialog/split_msg_dialog/split_msg_dialog.less");v.component("mp-split-msg-dialog",{template:S,props:{value:{type:Boolean,default:false},msgType:{type:Array,default:[]}},data:function l(){return{dialogShow:false}},watch:{value:function l(f){if(f===true){this.show()}else{this.hide()}},dialogShow:function l(f){this.$emit("input",f)}},computed:{msgTypeName:function l(){var f=[];var b=k(new Set(this.msgType));if(b.length===0){return""}b.forEach(function(I){switch(I){case 0:case 9:case 11:f.push("\u6587\u7AE0");break;case 5:f.push("\u89C6\u9891");break;case 8:f.push("\u56FE\u6587");break;case 7:f.push("\u97F3\u9891");break;case 10:f.push("\u6587\u5B57");break;default:f.push("")}});return f.join("\u3001")},title:function l(){return"\u53D1\u8868\u7684\u5185\u5BB9\u4E2D\u5305\u542B".concat(this.msgTypeName,"\uFF0C\u4E0D\u652F\u6301\u5408\u5E76\u53D1\u8868")},content:function l(){return"".concat(this.msgTypeName,"\u4EC5\u652F\u6301\u5355\u7BC7\u53D1\u8868\uFF0C\u53EF\u5C06").concat(this.msgTypeName,"\u5355\u72EC\u62C6\u5206\u540E\u524D\u5F80\u8349\u7A3F\u7BB1\u91CD\u65B0\u7F16\u8F91")}},mounted:function l(){if(this.value===true){this.show()}},methods:{show:function l(){if(this.dialogShow===true){return}this.dialogShow=true;M.setSum(129180,38,1).send()},hide:function l(){if(this.dialogShow===false){return}this.dialogShow=false},close:function l(){this.$emit("cancel",{cancel:1})},hideAndClose:function l(){this.hide();this.close()},splitMsgConfirm:function l(){this.$emit("split-confirm");this.hide()}}})},"./src/pages/modules/media_dialog/split_msg_dialog/split_msg_dialog.less":function(z,T,u){"use strict";u.r(T)},"./src/pages/modules/media_dialog/split_msg_dialog/split_msg_dialog.tpl":function(z,T){z.exports='<mp-dialog weui="true" ref="dialog" v-model="dialogShow" wrap-class="split_msg_dialog" @close="close" rootElm="#vue_app">\n  <div class="split_msg_context">\n    <mp-msg\n      icon="info"\n      :title="title"\n      :content="content"\n    />\n  </div>\n  <template slot="footer">\n    <mp-button type="default" @click="hideAndClose">\u53D6\u6D88</mp-button>\n    <mp-button type="primary" @click="splitMsgConfirm">\u62C6\u5206</mp-button>\n  </template>\n</mp-dialog>\n'},"./src/pages/modules/utils/parse.js":function(z,T){function u(o){var d=o.length;var m=o.indexOf("?");var v=o.indexOf("#");v=v===-1?d:v;m=m===-1?v:m;var S=o.substr(0,m);var M=o.substr(m+1,v-m-1);var l=o.substr(v+1);return{host:S,queryStr:M,hash:l}}function k(o,d,m){var v=u(o);var S=v.queryStr;var M=[];for(var l in d){if(d[l]){M.push(l+"="+(m?d[l]:encodeURIComponent(d[l])))}}if(M.length>0){S+=(S!==""?"&":"")+M.join("&")}return v.host+(S!==""?"?"+S:"")+(v.hash!==""?"#"+v.hash:"")}function A(o,d,m,v){o=o||location.href;var S=o.indexOf("&");var M=o.length;var l=o.replace(/^[\w\d]+:[\/\\]+/g,"").split("").reverse();var f=M-1-l.indexOf("/");if(S!==-1&&o.indexOf("?")===-1&&S>f){o=o.replace("&","?")}var b=new RegExp("([\\?&]"+d+"=)[^&#]*");if(!o.match(b)){var I=o.indexOf("?");if(I===-1){return o+"?"+d+"="+m}else{if(I===o.length-1){return o+d+"="+m}return o+"&"+d+"="+m}}if(v===true){return o.replace(b,"$1"+m)}return o}function x(o,d){var m=d||window.location.search;var v=new RegExp("(^|&)"+o+"=([^&]*)(&|$)");var S=m.substr(m.indexOf("?")+1).match(v);return S!=null?S[2]:""}z.exports={parseUrl:u,join:k,addParam:A,getQuery:x}},"./src/pages/modules/utils/report.js":function(z,T,u){"use strict";Object.defineProperty(T,"__esModule",{value:true});T.idkey=T.badjs=void 0;var k=function d(m){navigator.sendBeacon(m)};var A=function d(m){var v=new Image;v.src=m};var x=T.idkey=function d(m,v){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;if(!m){return}if(v===null||v===void 0){return}var M="/mp/jsmonitor?idkey=".concat(m,"_").concat(v,"_").concat(S,"&_ts=").concat(Date.now());navigator.sendBeacon?k(M):A(M)};var o=T.badjs=function d(){}}}]);
