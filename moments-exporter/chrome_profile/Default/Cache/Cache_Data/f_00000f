(function(I){function x(u){var l=u[0];var g=u[1];var h=u[2];var S,C,D=0,z=[];for(;D<l.length;D++){C=l[D];if(Object.prototype.hasOwnProperty.call(y,C)&&y[C]){z.push(y[C][0])}y[C]=0}for(S in g){if(Object.prototype.hasOwnProperty.call(g,S)){I[S]=g[S]}}if(_)_(u);while(z.length){z.shift()()}O.push.apply(O,h||[]);return v()};function v(){var u;for(var l=0;l<O.length;l++){var g=O[l];var h=true;for(var S=1;S<g.length;S++){var C=g[S];if(y[C]!==0)h=false}if(h){O.splice(l--,1);u=T(T.s=g[0])}}return u}var k={};var y={"login/loginpage/loginpage":0};var O=[];function T(u){if(k[u]){return k[u].exports}var l=k[u]={i:u,l:false,exports:{}};I[u].call(l.exports,l,l.exports,T);l.l=true;return l.exports}T.m=I;T.c=k;T.d=function(u,l,g){if(!T.o(u,l)){Object.defineProperty(u,l,{enumerable:true,get:g})}};T.r=function(u){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(u,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(u,"__esModule",{value:true})};T.t=function(u,l){if(l&1)u=T(u);if(l&8)return u;if(l&4&&typeof u==="object"&&u&&u.__esModule)return u;var g=Object.create(null);T.r(g);Object.defineProperty(g,"default",{enumerable:true,value:u});if(l&2&&typeof u!="string")for(var h in u)T.d(g,h,function(S){return u[S]}.bind(null,h));return g};T.n=function(u){var l=u&&u.__esModule?function g(){return u["default"]}:function g(){return u};T.d(l,"a",l);return l};T.o=function(u,l){return Object.prototype.hasOwnProperty.call(u,l)};T.p="/mpres/zh_CN/htmledition/";var w=window["webpackJsonp"]=window["webpackJsonp"]||[];var f=w.push.bind(w);w.push=x;w=w.slice();for(var m=0;m<w.length;m++)x(w[m]);var _=f;O.push([51,"pages/vendors~advanced/menusetting/menusetting~advanced/menusetting4Web1~album/edit/edit~album/list/list~b~vendors","pages/modules~advanced/menusetting/menusetting~advanced/menusetting4Web1~album/edit/edit~album/list/list~b~modules","pages/threerd~advanced/menusetting/menusetting~advanced/menusetting4Web1~album/edit/edit~album/list/list~b~threerd","pages/modules~advanced/menusetting/menusetting~advanced/menusetting4Web1~album/edit/edit~city/service_edit~modules","pages/default~advanced/menusetting/menusetting~advanced/menusetting4Web1~album/edit/edit~album/list/list~b~default"]);return v()})({"../../packages/mmbizweb-web2-common/common/wx/hash.js":function(I,x,v){var k;!(k=function(y,O,T){T.exports={setHash:function w(f){setTimeout(function(){location.hash=f},0)},getHash:function w(f){var m=f||location.hash;return m?m.replace(/.*#/,""):""},addParam:function w(f,m,_,u){f=f||location.href;var l=f.indexOf("&");var g=f.length;var h=f.replace(/^[\w\d]+:[\/\\]+/g,"").split("").reverse();var S=g-1-h.indexOf("/");if(l!==-1&&f.indexOf("?")===-1&&l>S){f=f.replace("&","?")}var C=new RegExp("([\\?&]"+m+"=)[^&#]*");if(!f.match(C)){var D=f.indexOf("?");if(D===-1){return f+"?"+m+"="+_}else{if(D===f.length-1){return f+m+"="+_}return f+"&"+m+"="+_}}if(u===true){return f.replace(C,"$1"+_)}return f},getHashModelName:function w(){var f=this.getHash();if(f=="")return"";return f?f.split("&")[0].split("=")[0]:[]},getHashActionName:function w(){var f=this.getHash();if(f=="")return"";return(f?f.split("&"):[])[0].split("=")[1]},getHashParam:function w(f){var m=this.getHash().match(new RegExp("(^|&)"+f+"=([^&]*)(&|$)"));return m!=null?m[2]:""},getUrlParam:function w(f,m){var _=arguments[1]||window.location.search,u=new RegExp("(^|&)"+f+"=([^&]*)(&|$)"),l=_.substr(_.indexOf("?")+1).match(u);return l!=null?l[2]:""},getParams:function w(){var f=[],m=this.getHash();paramArr=m?m.split("&"):[];for(var _=1,u=paramArr.length;_<u;_++){f.push(paramArr[_])}return f},decodeUrl:function w(f){f=decodeURIComponent(f);var m=this.parseUrl(f),_=[];$.each(m.params,function(l,g){g=decodeURIComponent(g);_.push(l+"="+g)});var u=f.split("?")[0];return u+"?"+_.join("&")}}}.call(x,v,x,I),k!==void 0&&(I.exports=k))},"./src/3rd/cookie/cookie.js":function(I,x,v){var k;/*!
 * jQuery Cookie Plugin v1.3.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */;!(k=function(y,O,T){var w=/\+/g;function f(h){return h}function m(h){var S;try{S=_(decodeURIComponent(h.replace(w," ")))}catch(C){S=""}return S}function _(h){if(h.indexOf('"')===0){h=h.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")}return h}function u(h){return g.json?JSON.parse(h):h}var l={};var g=l.cookie=function(h,S,C){if(S!==void 0){C=function(n){for(var L=1,E=arguments.length;L<E;L++){for(var j in arguments[L]){n[j]=arguments[L][j]}}return n}({},g.defaults,C);if(S===null){C.expires=-1}if(typeof C.expires==="number"){var D=C.expires,z=C.expires=new Date;z.setDate(z.getDate()+D)}S=g.json?JSON.stringify(S):String(S);return document.cookie=[encodeURIComponent(h),"=",g.raw?S:encodeURIComponent(S),C.expires?"; expires="+C.expires.toUTCString():"",C.path?"; path="+C.path:"",C.domain?"; domain="+C.domain:"",C.secure?"; secure":""].join("")}var q=g.raw?f:m;var Q=document.cookie.split("; ");var M=h?null:{};for(var R=0,B=Q.length;R<B;R++){var U=Q[R].split("=");var t=q(U.shift());var p=q(U.join("="));if(h&&h===t){M=u(p);break}if(!h){M[t]=u(p)}}return M};g.defaults={};l.remove=function(h,S){if(this.cookie(h)!==null){this.cookie(h,null,S);return true}return false};T.exports=l}.call(x,v,x,I),k!==void 0&&(I.exports=k))},"./src/3rd/md5/md5.js":function(I,x,v){"use strict";var k;;!(k=function(y,O,T){function w(t,p){var n=(t&65535)+(p&65535),L=(t>>16)+(p>>16)+(n>>16);return L<<16|n&65535}function f(t,p){return t<<p|t>>>32-p}function m(t,p,n,L,E,j){return w(f(w(w(p,t),w(L,j)),E),n)}function _(t,p,n,L,E,j,F){return m(p&n|~p&L,t,p,E,j,F)}function u(t,p,n,L,E,j,F){return m(p&L|n&~L,t,p,E,j,F)}function l(t,p,n,L,E,j,F){return m(p^n^L,t,p,E,j,F)}function g(t,p,n,L,E,j,F){return m(n^(p|~L),t,p,E,j,F)}function h(t,p){t[p>>5]|=128<<p%32;t[(p+64>>>9<<4)+14]=p;var n,L,E,j,F,o=1732584193,c=-271733879,a=-1732584194,s=271733878;for(n=0;n<t.length;n+=16){L=o;E=c;j=a;F=s;o=_(o,c,a,s,t[n],7,-680876936);s=_(s,o,c,a,t[n+1],12,-389564586);a=_(a,s,o,c,t[n+2],17,606105819);c=_(c,a,s,o,t[n+3],22,-1044525330);o=_(o,c,a,s,t[n+4],7,-176418897);s=_(s,o,c,a,t[n+5],12,1200080426);a=_(a,s,o,c,t[n+6],17,-1473231341);c=_(c,a,s,o,t[n+7],22,-45705983);o=_(o,c,a,s,t[n+8],7,1770035416);s=_(s,o,c,a,t[n+9],12,-1958414417);a=_(a,s,o,c,t[n+10],17,-42063);c=_(c,a,s,o,t[n+11],22,-1990404162);o=_(o,c,a,s,t[n+12],7,1804603682);s=_(s,o,c,a,t[n+13],12,-40341101);a=_(a,s,o,c,t[n+14],17,-1502002290);c=_(c,a,s,o,t[n+15],22,1236535329);o=u(o,c,a,s,t[n+1],5,-165796510);s=u(s,o,c,a,t[n+6],9,-1069501632);a=u(a,s,o,c,t[n+11],14,643717713);c=u(c,a,s,o,t[n],20,-373897302);o=u(o,c,a,s,t[n+5],5,-701558691);s=u(s,o,c,a,t[n+10],9,38016083);a=u(a,s,o,c,t[n+15],14,-660478335);c=u(c,a,s,o,t[n+4],20,-405537848);o=u(o,c,a,s,t[n+9],5,568446438);s=u(s,o,c,a,t[n+14],9,-1019803690);a=u(a,s,o,c,t[n+3],14,-187363961);c=u(c,a,s,o,t[n+8],20,1163531501);o=u(o,c,a,s,t[n+13],5,-1444681467);s=u(s,o,c,a,t[n+2],9,-51403784);a=u(a,s,o,c,t[n+7],14,1735328473);c=u(c,a,s,o,t[n+12],20,-1926607734);o=l(o,c,a,s,t[n+5],4,-378558);s=l(s,o,c,a,t[n+8],11,-2022574463);a=l(a,s,o,c,t[n+11],16,1839030562);c=l(c,a,s,o,t[n+14],23,-35309556);o=l(o,c,a,s,t[n+1],4,-1530992060);s=l(s,o,c,a,t[n+4],11,1272893353);a=l(a,s,o,c,t[n+7],16,-155497632);c=l(c,a,s,o,t[n+10],23,-1094730640);o=l(o,c,a,s,t[n+13],4,681279174);s=l(s,o,c,a,t[n],11,-358537222);a=l(a,s,o,c,t[n+3],16,-722521979);c=l(c,a,s,o,t[n+6],23,76029189);o=l(o,c,a,s,t[n+9],4,-640364487);s=l(s,o,c,a,t[n+12],11,-421815835);a=l(a,s,o,c,t[n+15],16,530742520);c=l(c,a,s,o,t[n+2],23,-995338651);o=g(o,c,a,s,t[n],6,-198630844);s=g(s,o,c,a,t[n+7],10,1126891415);a=g(a,s,o,c,t[n+14],15,-1416354905);c=g(c,a,s,o,t[n+5],21,-57434055);o=g(o,c,a,s,t[n+12],6,1700485571);s=g(s,o,c,a,t[n+3],10,-1894986606);a=g(a,s,o,c,t[n+10],15,-1051523);c=g(c,a,s,o,t[n+1],21,-2054922799);o=g(o,c,a,s,t[n+8],6,1873313359);s=g(s,o,c,a,t[n+15],10,-30611744);a=g(a,s,o,c,t[n+6],15,-1560198380);c=g(c,a,s,o,t[n+13],21,1309151649);o=g(o,c,a,s,t[n+4],6,-145523070);s=g(s,o,c,a,t[n+11],10,-1120210379);a=g(a,s,o,c,t[n+2],15,718787259);c=g(c,a,s,o,t[n+9],21,-343485551);o=w(o,L);c=w(c,E);a=w(a,j);s=w(s,F)}return[o,c,a,s]}function S(t){var p,n="";for(p=0;p<t.length*32;p+=8){n+=String.fromCharCode(t[p>>5]>>>p%32&255)}return n}function C(t){var p,n=[];n[(t.length>>2)-1]=void 0;for(p=0;p<n.length;p+=1){n[p]=0}for(p=0;p<t.length*8;p+=8){n[p>>5]|=(t.charCodeAt(p/8)&255)<<p%32}return n}function D(t){return S(h(C(t),t.length*8))}function z(t,p){var n,L=C(t),E=[],j=[],F;E[15]=j[15]=void 0;if(L.length>16){L=h(L,t.length*8)}for(n=0;n<16;n+=1){E[n]=L[n]^909522486;j[n]=L[n]^1549556828}F=h(E.concat(C(p)),512+p.length*8);return S(h(j.concat(F),512+128))}function q(t){var p="0123456789abcdef",n="",L,E;for(E=0;E<t.length;E+=1){L=t.charCodeAt(E);n+=p.charAt(L>>>4&15)+p.charAt(L&15)}return n}function Q(t){return unescape(encodeURIComponent(t))}function M(t){return D(Q(t))}function R(t){return q(M(t))}function B(t,p){return z(Q(t),Q(p))}function U(t,p){return q(B(t,p))}T.exports=function(t,p,n){if(!p){if(!n){return R(t)}else{return M(t)}}if(!n){return U(p,t)}else{return B(p,t)}}}.call(x,v,x,I),k!==void 0&&(I.exports=k))},"./src/pages/login/loginpage/loginpage.js":function(I,x,v){function k(i){"@babel/helpers - typeof";return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(i)}function y(i,e){var r=Object.keys(i);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(i);e&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(i,b).enumerable})),r.push.apply(r,d)}return r}function O(i){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),true).forEach(function(d){T(i,d,r[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(d){Object.defineProperty(i,d,Object.getOwnPropertyDescriptor(r,d))})}return i}function T(i,e,r){return(e=w(e))in i?Object.defineProperty(i,e,{value:r,enumerable:true,configurable:true,writable:true}):i[e]=r,i}function w(i){var e=f(i,"string");return"symbol"==k(e)?e:e+""}function f(i,e){if("object"!=k(i)||!i)return i;var r=i[Symbol.toPrimitive];if(void 0!==r){var d=r.call(i,e||"default");if("object"!=k(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(i)}var m=v("../../packages/mmbizweb-web2-common/modules/utils/cgi.js");var _=v("./src/pages/modules/utils/get_cgi_data.js");var u=v("./src/pages/modules/utils/get_custom_service.js");var l=v("./src/pages/modules/utils/string.js").htmlDecode;var g=v("./src/3rd/md5/md5.js");var h=v("./src/3rd/cookie/cookie.js");var S=v("./node_modules/vuex/dist/vuex.esm.js");var C=v("./src/3rd/utils/comm_report.js");var D=v("./src/3rd/editor/common/monitor.js");var z=v("./src/pages/modules/faq/faq_hover/faq_hover.js");var q=v("./src/3rd/wxgspeedsdk/wxgspeedsdk.js");var Q=v("./src/pages/modules/utils/object.js"),M=Q.assign;var R=v("./src/pages/modules/utils/report.js"),B=R.idkey;var U=v("../../packages/mmbizweb-web2-common/common/wx/hash.js");var t=v("./src/pages/modules/base/base.js");v("./src/pages/login/loginpage/style/loginpage.less");v("./src/pages/login/loginpage/style/loginpage.en_US.less");sessionStorage.removeItem("menu_info_key");var p=v("./src/pages/modules/safe_input/safe_input.js");var n=_("pages/login/loginpage");var L="loginMode";var E=U.getUrlParam("appid",location.href);var j=0;var F=0;if(navigator&&!navigator.cookieEnabled){j=1}if(window.localStorage&&!window.localStorage.getItem(L)){F=1}var o=0;function c(){var i=document.createElement("script");i.onload=function(){o=1;document.body.removeChild(i)};i.src="chrome-extension://kjmjndilfndibkgdfkekhnbnmiifcpjk/resource/jsencrypt.min.js";document.body.appendChild(i)}try{setTimeout(function(){c()},200)}catch(i){}var a=function i(e){if(e<=3){return 1500}else if(e>3&&e<=30){return 1e3}else if(e>30&&e<=50){return 1500}return 2e3};var s=null;var Y=new S.Store({modules:{main:{state:{step:0,mode:window.wx.cgiData.defaultScanlogin?1:(localStorage.getItem(L)||1)*1,qrcodeSrc:"",scanLoginType:0,bizList:[],wxList:[],activeBizIndex:0,activeWxIndex:-1,state:"state_waiting",rejectWxList:[],currentLang:n.currentLang===""?"zh_CN":n.currentLang,err:"",verifyImg:"",isNeedVerify:false,account:"",rememberCheck:false,pwd:"",verify:"",verify_ticket:"",rand_str:""},mutations:{_sucGetIngorePassList:function i(e,r){e.bizList=r.ignor_passwd_list;e.bizList.forEach(function(d,b){e.rejectWxList.push([]);e.bizList[b].userlist.forEach(function(){e.rejectWxList[b].push(false)})});e.step=1;s.report19015({optype:1,page_state:2})},_setLanguage:function i(e,r){function d(){var H=window.location.search.substring(1).split("&");var X={};var V;var J;for(J in H){if(H[J]==="")continue;if(!H[J].split)continue;V=H[J].split("=");X[decodeURIComponent(V[0])]=decodeURIComponent(V[1])}return X}var b=window.location.host;var P=window.location.protocol;var A=window.location.pathname;var N=window.location.hash;var W=d();var K=[];W.lang=r.currentLang;for(var G in W){if(!W[G]){continue}K.push([encodeURIComponent(G),encodeURIComponent(W[G])].join("="))}var Z=P+"//"+b+A+"?"+K.join("&")+N;h.cookie("mm_lang",r.currentLang,{expires:30,path:"/"});e.currentLang=r.currentLang;window.openUrl(Z)},_loginCallback:function i(e,r){var d=r.json;var b="";switch(d.base_resp.ret){case 0:localStorage.setItem(L,e.mode);h.cookie("noticeLoginFlag",1,{expires:30});if(e.rememberCheck){h.cookie("remember_acct",e.account,{expires:30})}else{h.remove("remember_acct")}if(/\/cgi-bin\/home\?/.test(d.redirect_url)){if(window.location.href.indexOf("toUrl=ad")>-1){var P=d.redirect_url.match(/token=(\d*)/);if(P&&P[1]){d.redirect_url="/promotion/advertiser_index?lang=zh_CN&token="+P[1]+"&aSource="+(window.aSource||"")}}}else if(/\/cgi-bin\/readtemplate\?t=user\/validate_wx_tmpl/.test(d.redirect_url)){if(window.location.href.indexOf("toUrl=ad")>-1){d.redirect_url+="&toUrl=ad&aSource="+(window.aSource||"")}}window.openUrl(d.redirect_url);break;case-1:b="\u7CFB\u7EDF\u9519\u8BEF\uFF0C\u8BF7\u7A0D\u5019\u518D\u8BD5\u3002";break;case 200002:b="\u8D26\u53F7\u6216\u5BC6\u7801\u9519\u8BEF\u3002";break;case 200007:b="\u60A8\u76EE\u524D\u5904\u4E8E\u8BBF\u95EE\u53D7\u9650\u72B6\u6001\u3002";break;case 200008:e.isNeedVerify=true;s.$tipsErr("\u8BF7\u6ED1\u52A8\u9A8C\u8BC1\u7801");try{var A=new TencentCaptcha("2011407726",s.waterproofCallback,{ready:function N(){},needFeedBack:true,type:"popup"});A.show()}catch(N){s.loadErrorCallback()}break;case 200021:b="\u4E0D\u5B58\u5728\u8BE5\u8D26\u6237\u3002";break;case 200023:b="\u60A8\u8F93\u5165\u7684\u8D26\u53F7\u6216\u8005\u5BC6\u7801\u4E0D\u6B63\u786E\uFF0C\u8BF7\u91CD\u65B0\u8F93\u5165\u3002";break;case 200025:b='\u6D77\u5916\u8D26\u53F7\u8BF7\u5728\u516C\u4F17\u5E73\u53F0\u6D77\u5916\u7248\u767B\u5F55\uFF0C<a href="http://admin.wechat.com/">\u70B9\u51FB\u767B\u5F55</a>';break;case 200026:b="\u8BE5\u516C\u4F17\u4F1A\u8BAE\u53F7\u5DF2\u7ECF\u8FC7\u671F\uFF0C\u65E0\u6CD5\u518D\u767B\u5F55\u4F7F\u7528\u3002";break;case 200027:e.isNeedVerify=true;s.$tipsErr("\u8BF7\u6ED1\u52A8\u9A8C\u8BC1\u7801");try{var A=new TencentCaptcha("2011407726",s.waterproofCallback,{ready:function W(){},needFeedBack:true,type:"popup"});A.show()}catch(N){s.loadErrorCallback()}break;case 200121:b='\u8BE5\u8D26\u53F7\u5C5E\u4E8E\u5FAE\u4FE1\u5F00\u653E\u5E73\u53F0\uFF0C\u8BF7<a href="https://open.weixin.qq.com/">\u70B9\u51FB\u6B64\u5904</a>\u767B\u5F55';break;case 200122:b='\u8FD9\u662F\u4F01\u4E1A\u53F7\u8D26\u53F7\uFF0C\u73B0\u5DF2\u5347\u7EA7\u4E3A\u4F01\u4E1A\u5FAE\u4FE1\uFF0C\u8BF7<a href="https://work.weixin.qq.com/wework_admin/loginpage_wx?from=mp">\u70B9\u51FB\u6B64\u5904</a>\u767B\u5F55';break;case 250002:b="\u8BE5\u8D26\u53F7\u5DF2\u88AB\u6CE8\u9500\u3002";break;case 250003:b='\u7531\u4E8E\u957F\u65F6\u95F4\u672A\u4F7F\u7528\uFF0C\u8BE5\u8D26\u53F7\u5DF2\u88AB\u7CFB\u7EDF\u51BB\u7ED3\uFF0C\u82E5\u9700\u8981\u6062\u590D\uFF0C\u4F60\u53EF\u4EE5\u70B9\u51FB<a href="'.concat(d.findacct_url,'">\u8D26\u53F7\u627E\u56DE</a>\u8FDB\u884C\u6062\u590D');break;case 780001:b='\u516C\u4F17\u5E73\u53F0\u5C06\u4E0D\u518D\u652F\u6301QQ\u8D26\u53F7\u767B\u5F55\uFF0C\u8BF7\u4EE5\u90AE\u7BB1\u8D26\u53F7\u767B\u5F55\u3002<br/><a href="/cgi-bin/bizunbindqq?action=page&qq='.concat(d.binduin,'">\u524D\u5F80\u7ED1\u5B9A\u90AE\u7BB1</a>');break;default:b="\u672A\u77E5\u7684\u8FD4\u56DE\u3002";new Image().src="/mp/unknow_ret_report?uin=0&id=64462&key=0&url="+encodeURIComponent("/cgi-bin/login")+"&location="+encodeURIComponent(window.location.href)+"&ret="+d.base_resp.ret+"&method=get&action=report";break}if(b!==""){e.err=b}},quickLogin1:function i(e){var r;var d;e.wxList=e.bizList[e.activeBizIndex].userlist;if(e.wxList.length===1){d=0;r="state_chosen"}else{d=0;r="state_chosen"}e.activeWxIndex=d;e.step=2;e.state=r},updateReject:function i(e){e.state="state_reject";e.rejectWxList[e.activeBizIndex][e.activeWxIndex]=true;e.activeWxIndex=-1;e.step=2},switchMode:function i(e,r){e.mode=r.mode},switchScanLoginType:function i(e,r){e.scanLoginType=r.scanLoginType},refreshQrcode:function i(e){if(s.hasStartLogin===false){s.getQrcode()}else{if(s.hasStartLogin===false){D.setSum(125091,0,1);D.send()}e.qrcodeSrc="/cgi-bin/scanloginqrcode?action=getqrcode&random=".concat(new Date*1,"&login_appid=").concat(E);s.qrcodeRefreshTimes++;s.startCheckQrcode()}},__set_state:function i(e,r){for(var d in r){e[d]=r[d]}}},actions:{getIngorePassList:function i(e){var r=this;m.post({url:"/cgi-bin/bizlogin",data:{action:"prelogin"}},function(d){r.bizList=d.ignor_passwd_list;if(d.base_resp.ret===0&&d.eignor_passwd_result===1&&r.bizList.length>0){e.rootState.main.mode===1&&s.stopCheckQrcode();e.commit("_sucGetIngorePassList",d)}else{s.report19015({optype:1,page_state:e.rootState.main.mode===1?3:1})}})},setLanguage:function i(e,r){e.commit("_setLanguage",r)},login:function i(e,r){e.dispatch("_loginPost",Object.assign({isOld:false,url:"/cgi-bin/bizlogin?action=startlogin"},r))},_loginPost:function i(e,r){m.post({url:r.url,data:{username:r.account,pwd:g(r.pwd.substr(0,16)),verify_ticket:r.verify_ticket,rand_str:r.rand_str,f:"json",userlang:r.currentLang,redirect_url:l(n.redirectUrl)}},r.isOld?function(d){e.commit("_loginCallback",Object.assign({json:d},r));if(d.base_resp.ret!==0){}}:function(d){if(d.grey===0){new Image().src="/mp/jsmonitor?idkey=66811_4_1";e.dispatch("_loginPost",Object.assign({isOld:true,url:"/cgi-bin/login?loginhook=4"},r))}else{e.commit("_loginCallback",Object.assign({json:d},r));if(d.base_resp.ret!==0){}}})},quickLogin1:function i(e){var r=[];e.commit("quickLogin1");e.state.wxList.forEach(function(d){r.push(d.openid)});e.dispatch("quickLoginReport",{openidPost:r})},quickLoginReport:function i(e,r){m.post({url:"/cgi-bin/bizlogin",data:{action:"report",openid:r.openidPost.join("|")}})},quickLogin2:function i(e,r){e.commit("__set_state",{state:"state_login",step:3});e.dispatch("startLogin",{openid:e.state.wxList[e.state.activeWxIndex].openid,currentLang:r.currentLang})},startLogin:function i(e,r){m.post({url:"/cgi-bin/bizlogin?action=startlogin",data:{openid:r.openid,userlang:r.currentLang}},function(d){r.inlTimes=1;if(d&&d.base_resp&&d.base_resp.ret===0){e.dispatch("polledLoginAuth",r)}else if(d&&d.eignor_passwd_result>=3){e.commit("updateReject")}else{e.commit("__set_state",{state:"state_failed",step:2})}})},bizLogin:function i(e,r){var d={userlang:r.currentLang,redirect_url:l(n.redirectUrl),cookie_forbidden:j,cookie_cleaned:F,plugin_used:o};r.loginType&&(d.login_type=r.loginType);m.post({url:"/cgi-bin/bizlogin?action=login",data:d},function(b){if(b&&b.redirect_url){localStorage.setItem(L,e.state.mode);if(window.location.href.indexOf("toUrl=ad")>-1){var P=b.redirect_url.match(/token=(\d*)/);if(P&&P[1]){b.redirect_url="/promotion/advertiser_index?lang=zh_CN&token="+P[1]+"&aSource="+(window.aSource||"")}}new Image().src="/misc/jslog?id=100&content=loginSuccess&level=error";window.openUrl(b.redirect_url)}else{s.$tipsErr("\u7CFB\u7EDF\u7E41\u5FD9\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5");new Image().src="/misc/jslog?id=99&content=loginError&level=error"}})},polledLoginAuth:function i(e,r){var d=function b(){if(e.rootState.main.state!=="state_login")return;setTimeout(function(){r.inlTimes++;e.dispatch("polledLoginAuth",r)},a(r.inlTimes))};m.get({url:"/cgi-bin/loginauth?action=ask",timeout:5e3},function(b){if(b.status===1){e.commit("__set_state",{state:"state_confirmed"});e.dispatch("bizLogin",r)}else if(b.status===2){e.commit("__set_state",{state:"state_cancel",step:2})}else if(b.status===3){e.commit("__set_state",{state:"state_timeout",step:2})}else if(b.status===4){d()}else if(b.status===0){d()}else if(b.status!==0){e.commit("__set_state",{state:"state_failed",step:2})}},function(){d()})},__set_state:function i(e,r){e.commit("__set_state",r)}}}}});s=new t({el:"#app",store:Y,components:{"mp-faq-hover":z},data:function i(){var e=navigator.userAgent;var r=false;if(/(iPhone|iPod|iOS)/i.test(e)||/(Android)/i.test(e)){r=true;B(284042,0)}var d={supportLang:[{name:"\u7B80\u4F53\u4E2D\u6587",value:"zh_CN"},{name:"English",value:"en_US"}],CgiData:n,loginAppid:E,accountDom:null,pwdDom:null,verifyDom:null,supportSafeInput:false,isShowQrcode:false,newKf:false,qqBindMailUrl:"",showMpAppGuide:r};return d},created:function i(){this.isStopQrcodeTimer=false;this.qrcodeRefreshTimes=0;this.qrcodeTimer=null;this.checkQrcodeTimes=1;this.sessionid=new Date*1+""+Math.floor(Math.random()*100);this.prepageState=null;this.hasStartLogin=false},mounted:function i(){var e=this;u().then(function(r){e.newKf=r});this.accountDom=this.$refs.accountInput.$refs.field;if(this.supportSafeInput){this.pwdDom=p.domMap.password;this.pwdDom.addEventListener("input",function(){e.$store.dispatch("__set_state",{pwd:e.pwdDom.value.trim()})});this.pwdDom.addEventListener("keydown",function(r){if(r.keyCode===13){e.login()}});h.remove("password_leak",{path:"/"});this.$refs.fakePwdInput.addEventListener("input",function(){h.cookie("password_leak",location.href,{path:"/"})})}else{this.pwdDom=this.$refs.pwdInput.$refs.field}if(h.cookie("remember_acct")){this.$store.commit("__set_state",{rememberCheck:true,account:h.cookie("remember_acct")})}if(this.$store.state.main.rememberCheck)this.pwdDom.focus();else this.accountDom.focus();this.$store.dispatch("getIngorePassList");this.mode===1&&this.getQrcode();if(localStorage.getItem("loginWithQrcode")){this.switchMode(1);localStorage.removeItem("loginWithQrcode")}},computed:O({account:{get:function i(){return this.$store.state.main.account},set:function i(e){this.$store.dispatch("__set_state",{account:e})}},pwd:{get:function i(){return this.$store.state.main.pwd},set:function i(e){this.$store.dispatch("__set_state",{pwd:e})}},verifyTicket:{get:function i(){return this.$store.state.main.verifyTicket},set:function i(e){this.$store.dispatch("__set_state",{verifyTicket:e})}},randStr:{get:function i(){return this.$store.state.main.randStr},set:function i(e){this.$store.dispatch("__set_state",{randStr:e})}},currentLang:{get:function i(){return this.$store.state.main.currentLang},set:function i(e){this.$store.dispatch("setLanguage",{currentLang:e})}}},S.mapState({step:function i(e){return e.main.step},mode:function i(e){return e.main.mode},qrcodeSrc:function i(e){return e.main.qrcodeSrc},scanLoginType:function i(e){return e.main.scanLoginType},err:function i(e){return e.main.err},activeBizIndex:function i(e){return e.main.activeBizIndex},verifyImg:function i(e){return e.main.verifyImg},isNeedVerify:function i(e){return e.main.isNeedVerify},rememberCheck:function i(e){return e.main.rememberCheck},bizList:function i(e){return e.main.bizList},state:function i(e){return e.main.state},wxList:function i(e){return e.main.wxList},activeWxIndex:function i(e){return e.main.activeWxIndex},rejectWxList:function i(e){return e.main.rejectWxList},currentLangDesc:function i(){var e="\u7B80\u4F53\u4E2D\u6587";var r;for(r=0;r<this.supportLang.length;r++){if(this.supportLang[r].value===this.currentLang){e=this.supportLang[r].name}}return e}})),watch:{account:function i(e){if(e!==""){this.$store.dispatch("__set_state",{err:""})}},pwd:function i(e){if(e!==""){this.$store.dispatch("__set_state",{err:""})}},step:function i(e){if(e===0){this.report19015({optype:1,page_state:this.mode===1?3:1});if(this.mode===1){this.getQrcode()}}},mode:function i(e){this.report19015({optype:1,page_state:e===1?3:1})}},methods:{report19015:function i(e){if(e.optype===1){this.prepageState!==null&&(e.prepage_state=this.prepageState);this.prepageState=e.page_state}C.report(19015,M({devicetype:1,newsessionid:this.sessionid},e))},toggleQrcodeShow:function i(){this.isShowQrcode=true},toggleQrcodeHide:function i(){this.isShowQrcode=false},setLanguage:function i(e){var r=this;r.$store.dispatch("setLanguage",{currentLang:e})},switchMode:function i(e){this.$store.commit("switchMode",{mode:e});if(e===1){this.report19015({optype:2,buttonid:1});this.getQrcode()}else{this.report19015({optype:2,buttonid:2});this.refreshQrcode();this.stopCheckQrcode();this.hasStartLogin=false}},switchScanLoginType:function i(e){this.$store.commit("switchScanLoginType",{scanLoginType:e})},getQrcode:function i(){var e=this;this.isStopQrcodeTimer=false;m.post({url:"/cgi-bin/bizlogin?action=startlogin",data:{userlang:this.currentLang,redirect_url:l(n.redirectUrl),login_type:3,sessionid:this.sessionid}},function(r){if(r&&r.base_resp&&r.base_resp.ret===0){e.hasStartLogin=true;!e.isStopQrcodeTimer&&e.refreshQrcode()}else{D.setSum(125091,0,2);D.send();e.switchScanLoginType(6)}},function(r,d){D.setSum(125091,0,3);D.send();e.switchScanLoginType(6)})},qrcodeError:function i(e){if(e.target.src===location.href)return;D.setSum(125091,1,1);D.send();this.stopCheckQrcode();this.switchScanLoginType(6)},refreshQrcode:function i(e){if(k(e)==="object"||!e){this.qrcodeRefreshTimes=0}this.stopCheckQrcode();if(this.qrcodeRefreshTimes>=5){this.switchScanLoginType(5)}else{this.switchScanLoginType(0);this.$store.commit("refreshQrcode")}},startCheckQrcode:function i(e){!e&&(this.checkQrcodeTimes=1);this.qrcodeTimer=setTimeout(this.checkQrcode,a(this.checkQrcodeTimes))},stopCheckQrcode:function i(){this.isStopQrcodeTimer=true;if(this.qrcodeTimer){clearTimeout(this.qrcodeTimer);this.qrcodeTimer=null}},checkQrcode:function i(){var e=this;m.get({url:"/cgi-bin/scanloginqrcode?action=ask"},function(r){if(r&&r.base_resp&&r.base_resp.ret===0){switch(r.status){case 1:e.$store.dispatch("bizLogin",{currentLang:e.currentLang,loginType:3});break;case 2:e.refreshQrcode();break;case 3:e.refreshQrcode(true);break;case 4:case 6:if(r.acct_size===1){e.switchScanLoginType(1)}else if(r.acct_size>1){e.switchScanLoginType(2)}else{e.switchScanLoginType(3)}e.startCheckQrcode(true);break;case 5:if(r.binduin){e.qqBindMailUrl="/cgi-bin/bizunbindqq?action=page&qq=".concat(r.binduin);e.switchScanLoginType(7)}else{e.switchScanLoginType(4)}break;default:e.startCheckQrcode(true)}}else{e.switchScanLoginType(6)}},function(r,d){e.startCheckQrcode(true)})},goRegist:function i(e){this.report19015({optype:2,buttonid:3});location.href=e.target.dataset.href},goRegistImmediately:function i(e){this.report19015({optype:2,buttonid:6});location.href=e.target.dataset.href},login:function i(){var e=this.$store.state.main.account;var r=this.$store.state.main.pwd;var d=this.$store.state.main.isNeedVerify;if(e===""){this.$store.dispatch("__set_state",{err:"\u4F60\u8FD8\u6CA1\u6709\u8F93\u5165\u8D26\u53F7\uFF01"});this.accountDom.focus()}else if(r===""){this.$store.dispatch("__set_state",{err:"\u4F60\u8FD8\u6CA1\u6709\u8F93\u5165\u5BC6\u7801\uFF01"});this.pwdDom.focus()}else if(d===true){try{var b=new TencentCaptcha("2011407726",this.waterproofCallback,{ready:function P(){},needFeedBack:true,type:"popup"});b.show()}catch(P){this.loadErrorCallback()}}else{this.goLogin()}},goLogin:function i(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";var d=this.$store.state.main.account;var b=this.$store.state.main.pwd;var P=this.$store.state.main.currentLang;var A=+new Date;if(this.step!==0||this.mode!==0){D.setSum(125091,4,1);D.send()}this.$store.dispatch("login",{account:d,pwd:b,verify_ticket:e,rand_str:r,currentLang:P,rand:A})},waterproofCallback:function i(e){if(e.errorCode||e.errorMessage){s.$tipsErr("\u9A8C\u8BC1\u7801\u9519\u8BEF\uFF0C\u8BF7\u91CD\u8BD5");return}if(e.ret===2){s.$tipsErr("\u8BF7\u6ED1\u52A8\u9A8C\u8BC1\u7801");return}if(e.ret!==0){s.$tipsErr("\u9A8C\u8BC1\u7801\u9519\u8BEF\uFF0C\u8BF7\u91CD\u8BD5");return}this.goLogin(e.ticket,e.randstr)},loadErrorCallback:function i(){var e="";var r="terror_1001_"+e+"_"+Math.floor(new Date().getTime()/1e3);this.waterproofCallback({ret:0,randstr:"@"+Math.random().toString(36).substr(2),ticket:r,errorCode:1001,errorMessage:"jsload_error"})},selectBiz:function i(e){this.$store.dispatch("__set_state",{activeBizIndex:e})},quickLogin1:function i(){this.$store.dispatch("quickLogin1")},changeToInputLogin:function i(){this.$store.dispatch("__set_state",{step:0})},selectWx:function i(e){if(this.$store.state.main.state!=="state_login"&&this.$store.state.main.state!=="state_confirmed"&&!this.$store.state.main.rejectWxList[this.$store.state.main.activeBizIndex][e]){if(this.$store.state.main.wxList.length>1&&this.$store.state.main.activeWxIndex===e){this.$store.dispatch("__set_state",{activeWxIndex:-1,state:"state_waiting"})}else{this.$store.dispatch("__set_state",{activeWxIndex:e,state:"state_chosen"})}}},quickLogin2:function i(){var e=this;if(this.$store.state.main.state!=="state_login"&&this.$store.state.main.state!=="state_confirmed"&&this.$store.state.main.state!=="state_reject"&&!this.$store.state.main.rejectWxList[this.$store.state.main.activeBizIndex][this.$store.state.main.activeWxIndex]){this.$store.dispatch("quickLogin2",{currentLang:e.currentLang})}},backToQuickLogin:function i(){if(this.$store.state.main.state==="state_login"){this.$store.dispatch("__set_state",{state:"state_chosen"})}this.$store.dispatch("__set_state",{step:this.$store.state.main.step-1})},changeRemember:function i(){this.$store.dispatch("__set_state",{rememberCheck:!this.$store.state.main.rememberCheck})},jump2DownloadMpApp:function i(){B(284042,1);location.href="https://mp.weixin.qq.com/webapp/wap/download?scene=4#wechat_redirect"}}});q.setBasicTime({pid:30});q.send();window.vm=s;I.exports=s},"./src/pages/login/loginpage/style/loginpage.en_US.less":function(I,x,v){"use strict";v.r(x)},"./src/pages/login/loginpage/style/loginpage.less":function(I,x,v){"use strict";v.r(x)},"./src/pages/modules/safe_input/safe_input.js":function(I,x){var v="\nlet id = 0;\nconst domMap = {};\nconst map = new WeakMap();\ncustomElements.define('mp-safe-input', class extends HTMLElement {\n  constructor() {\n    super();\n    map.set(this, {\n      id: id++,\n      root: this.attachShadow({ mode: 'closed' })\n    });\n  }\n  connectedCallback() {\n    const style = document.createElement('style');\n    const input = document.createElement('input');\n    const attrs = this.attributes;\n    for (let i = 0; i < attrs.length; i++) {\n      if (attrs[i].name === 'input-style') {\n        style.innerHTML += 'input{' + attrs[i].value + '}';\n      } else if (attrs[i].name === 'placeholder-style') {\n        style.innerHTML += 'input::placeholder{' + attrs[i].value + '}';\n      } else if (['class', 'style'].indexOf(attrs[i].name) === -1) {\n        input.setAttribute(attrs[i].name, attrs[i].value);\n      }\n    }\n    const inst = map.get(this);\n    inst.root.appendChild(style);\n    inst.root.appendChild(input);\n    const name = this.getAttribute('name') || inst.id;\n    domMap[name] = input;\n  }\n});\nreturn {\n  domMap: domMap,\n  support: true\n};\n";var k=.005;var y;try{var O=new Function(v);y=O()}catch(T){if(Math.random()<k&&window.WX_BJ_REPORT&&window.WX_BJ_REPORT.BadJs&&typeof window.WX_BJ_REPORT.BadJs.onError==="function"){T.name="SafeInput:"+T.name;window.WX_BJ_REPORT.BadJs.onError(T)}y={domMap:{},support:false}}I.exports=y},"./src/pages/modules/utils/get_cgi_data.js":function(I,x){I.exports=function(v){return window.CGI_DATA[v]}},"./src/pages/modules/utils/string.js":function(I,x){function v(k,y){var O=["&","&amp;","<","&lt;",">","&gt;"," ","&nbsp;",'"',"&quot;","'","&#39;"];var T=["&#39;","'","&quot;",'"',"&nbsp;"," ","&gt;",">","&lt;","<","&amp;","&","&#60;","<","&#62;",">"];var w;if(y===false){w=T}else{w=O}var f=k;for(var m=0;m<w.length;m+=2){f=f.replace(new RegExp(w[m],"g"),w[1+m])}return f}I.exports={https2http:function k(y){return y.replace(/https:\/\/mmbiz\.qlogo\.cn\//g,"http://mmbiz.qpic.cn/")},http2https:function k(y){return y.replace(/http:\/\/mmbiz\.qpic\.cn\//g,"https://mmbiz.qpic.cn/").replace(/http(s)?:\/\/mmbiz\.qlogo\.cn\//g,"https://mmbiz.qpic.cn/")},nogif:function k(y){return y.indexOf("wx_fmt=gif")>-1||y.indexOf("/mmbiz_gif/")>-1?y.replace("/0?","/s640?").replace("wx_fmt=gif",""):y.toString()},htmlEncode:function k(y){return v(y,true)},htmlDecode:function k(y){return v(y,false)},capitalize:function k(y){return y.charAt(0).toUpperCase()+y.slice(1)}}},51:function(I,x,v){I.exports=v("./src/pages/login/loginpage/loginpage.js")}});
